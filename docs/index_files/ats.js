/*!
 * version: {"ads":"3.1.256 ver3","pwa":"3.1.256","core":"3.1.256","bundler":"3.1.256"} - env: prod - bundle date: 2024-05-28T18:03:56.478Z
 *
 */(()=>{"use strict";var __webpack_modules__={8:(t,e,i)=>{i.d(e,{A:()=>d});var s=i(335),n=i(284),o=i(456),r=i(101),a=i(862);const d=new class{constructor(){this.randomSuffix=1,this.divIdSuffix="-recovery",this.detectIds=["ats-insert_ads"],this.disconnectTime=3e5,this.delayTime=5e3,this.observers={},this.instances={},this.enableAdRecovery=!1,this.siteId=0,this.init=t=>{this.enableAdRecovery=t.enableAdRecovery,this.siteId=t.siteId},this.createFastlyLog=t=>{fetch(`https://anymind360.com/collect/ad_recovery?siteId=${this.siteId}&adUnitPath=${t}`,{headers:{"Content-Type":"text/plain"}}).then((()=>{s.vF.log("logged ad recovery")}))},this.removeAd=(t,e)=>{for(;t.firstChild;)s.vF.log("remove nodes",t.firstChild),t.removeChild(t.firstChild);this.observers[e].forEach((t=>t.disconnect())),this.executeAd(e)},this.executeAd=t=>{const e=this.instances[t];let i;switch(e.adInstance.adType){case"skyscraper":i=new n.G(e.settings,t);break;case"insert_ads":i=new o.W(e.settings,t);break;case"overlay":i=new r.h(e.settings,t);break;case"parallax":i=new a.k(e.settings,t);break;default:i=null}i&&(e.adInstance.dispose(),i.execute(document,!0),this.createFastlyLog(e.settings.adUnitPath))},this.createAdObserver=(t,e)=>{if(!this.enableAdRecovery)return;const i=JSON.parse(JSON.stringify(t));i.divIDs=i.divIDs.map((t=>t.includes(this.divIdSuffix)?t.split(this.divIdSuffix)[0]+this.divIdSuffix+this.randomSuffix++:t+this.divIdSuffix+this.randomSuffix++)),this.instances[e.instanceCount]={settings:i,adInstance:e}},this.shouldReplace=t=>"string"==typeof t&&!this.detectIds.some((e=>t.includes(e))),this.mutationCallback=(t,e)=>(i,s)=>{for(const n of i)if("childList"===n.type){const i=Array.from(n.addedNodes);if(i.length>0)for(const n of i){const i=n.id;if(this.shouldReplace(i))return this.removeAd(t,e),void s.disconnect()}}},this.mutationCallback1=(t,e)=>(i,s)=>{for(const n of i)if("childList"===n.type){const i=n.removedNodes,o=Array.from(i).some((e=>t===e)),r=Array.from(n.addedNodes);o&&(r.forEach((t=>t.remove())),this.executeAd(e),s.disconnect())}},this.dispose=()=>{Object.keys(this.observers).forEach((t=>{this.observers[t].forEach((t=>t.disconnect()))}))},this.observe=(t,e)=>{this.enableAdRecovery&&setTimeout((()=>{const i={childList:!0,subtree:!0},n=new MutationObserver(this.mutationCallback(t,e));let o=null;t.parentNode&&(o=new MutationObserver(this.mutationCallback1(t,e))),n.observe(t,i),this.observers[e]=[],this.observers[e].push(n),o&&t.parentNode&&(o.observe(t.parentNode,i),this.observers[e].push(o)),s.vF.log("start observe node: ",t),setTimeout((()=>{n.disconnect(),o&&o.disconnect(),s.vF.log("disconnect from observation of node: ",t)}),this.disconnectTime)}),this.delayTime)}}}},139:(t,e,i)=>{i.d(e,{jC:()=>a,rG:()=>d});var s=i(939),n=i(335);const o=window.sas=window.sas||{};o.cmd=o.cmd||[];const r=t=>(...e)=>{o.cmd.push((()=>t(...e)))};class a{constructor(){this.isCalled=!1,this.insertSasScript=t=>{(0,s.nL)(!0,`//ced.sascdn.com/tag/${t}/smart.js`)},this.setUpAndCall=(t,e,i)=>{this.isCalled||(this.isCalled=!0,o.setup({networkid:t,domain:"//adnetwork.adasiaholdings.com",async:!0}),o.call("onecall",{siteId:e,pageId:i.pageId,formats:i.formats}))},this.render=t=>{n.vF.log("apm: render format id:",t),o.render(t)},this.setUpAndCall=r(this.setUpAndCall),this.render=r(this.render)}}a.sasDivIdPrefix="sas_";const d=new a},348:(t,e,i)=>{i.d(e,{Cu:()=>s.Cu,KB:()=>s.KB,sp:()=>s.sp});var s=i(78)},472:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{O:()=>functionTargeting});var _Logger__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(335);const throttle=(t,e)=>{let i=!1;return function(s,n){i||(t(s,n),i=!0,setTimeout((function(){i=!1}),e))}};class FunctionTargeting{constructor(){this.MUTATION_TIMEOUT=1e4,this.mutationObserverList={},this.mutationConfig={childList:!0,subtree:!0},this.callback=(key,functionTrigger,resolve)=>(_mutationsList,observer)=>{let result;try{result=eval(functionTrigger)}catch(t){_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.error("[functionTrigger]",key,t)}result&&(_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.log(key+": find target"),resolve(!0),observer.disconnect())},this.waitForConditionMet=async(parentElm,instanceCount,functionTrigger,adUnitPath)=>new Promise((resolve=>{const key=instanceCount+adUnitPath;let result;try{result=eval(functionTrigger)}catch(t){_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.error("[functionTrigger]",key,t)}if(result)_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.log(key+": find target"),resolve(!0);else{const t=new MutationObserver(throttle(this.callback(key,functionTrigger,resolve),50));this.mutationObserverList[key]=t,t.observe(parentElm,this.mutationConfig),setTimeout((()=>t.disconnect()),this.MUTATION_TIMEOUT)}})),this.dispose=()=>{Object.keys(this.mutationObserverList).forEach((t=>{this.mutationObserverList[t].disconnect()}))}}}const functionTargeting=new FunctionTargeting},554:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Um:()=>gpt,_7:()=>withGptAsync});var _Logger__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(335),_libs_Prebid__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(326),_libs_Aps__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(34),_core_utils_util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(939),_createNewConfig__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(231),_AdObserver__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8);const CHECK_INTERVAL_TIME=1e3,THROTTLE_TIME=200,PPID_COOKIE_NAME="am_FPID",PPID_JS_COOKIE_NAME="am_FPID_JS";let googletag=window.googletag=window.googletag||{};function throttle(t,e){let i=!1;return function(){i||(t(),i=!0,setTimeout((function(){i=!1}),e))}}googletag.cmd=googletag.cmd||[];const withGptAsync=t=>(...e)=>{googletag.cmd.push((()=>t(...e)))};class Gpt{get ppid(){return this._ppid}constructor(){this.isSRAEnabled=!1,this.blockRefresh=null,this.atsSlots=[],this.definedAtsSlots={},this.atsSlotsWithVisibility=[],this.callbacksOnSlotRenderEnded=[],this.refreshedSlots=[],this.outOfPageSlots=[],this.enableSeparateRequest=!1,this.destroyAtsSlotsOnly=!1,this.enableAdRecovery=!1,this.separateRequestDivIds=[],this.lazyLoadCallbacks={},this.prebidOnlySlotsDivIds=[],this.addGoogletagEventListner=()=>{withGptAsync((()=>{googletag.pubads().addEventListener("slotRenderEnded",(t=>{for(const e of this.callbacksOnSlotRenderEnded)e(t)})),googletag.pubads().addEventListener("slotVisibilityChanged",(t=>{for(const e of this.atsSlotsWithVisibility)t.slot===e.slot&&(e.visibilityPercentage=t.inViewPercentage)})),googletag.pubads().addEventListener("impressionViewable",(t=>{for(const e of this.atsSlotsWithVisibility)t.slot===e.slot&&(e.isViewable=!0)}))}))()},this.setForceSafeFrameForSlot=(t,e)=>{t.setForceSafeFrame(e)},this.setTargetingForEachSlot=(slot,setTargetingConfigs)=>{setTargetingConfigs.forEach((setTargetingConfig=>{if(setTargetingConfig.isActive){const keyConfig=setTargetingConfig.key;let valueConfig=setTargetingConfig.value;try{valueConfig=eval(valueConfig)+""}catch(t){_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.error("gpt: setTargeting failed",t)}slot.setTargeting(keyConfig,valueConfig)}}))},this.setPPID=async(url,customScript)=>{if(!url&&!customScript)return;const label="[PPID]",_getPPID=()=>{const t=(0,_core_utils_util__WEBPACK_IMPORTED_MODULE_3__.Ri)();return t[PPID_COOKIE_NAME]||t[PPID_JS_COOKIE_NAME]},_setPPID=t=>{this._ppid=t,(0,_core_utils_util__WEBPACK_IMPORTED_MODULE_3__.TV)(PPID_JS_COOKIE_NAME,t,2555),googletag.cmd.push((()=>{googletag.pubads().setPublisherProvidedId(t),_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.log(label,`set PPID ${t}`)}))},ppid=_getPPID();if(ppid)return _Logger__WEBPACK_IMPORTED_MODULE_0__.vF.log(label,`has PPID ${ppid}`),void _setPPID(ppid);if(_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.log(label,"don't has PPID"),url)await fetch(url,{mode:"cors",credentials:"include"}).then((t=>{if(!t.ok)return void _Logger__WEBPACK_IMPORTED_MODULE_0__.vF.error(label,`The request to ${url} failed`);_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.log(label,`The request to ${url} was successful`);const e=_getPPID();e?_setPPID(e):_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.error(label,"fail to get ppid from cookie")}),(t=>{_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.error(label,`The request to ${url} failed by ${t}`)}));else if(customScript)try{await eval(customScript)}catch(t){_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.error("CustomScript",t)}},this.refreshAds=(t,e,i=!0)=>{e||(t=t.filter((t=>!this.refreshedSlots.some((e=>t===e))))),0<t.length?(_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.table("gpt: refresh info",t.map((t=>({slotId:t.getSlotElementId(),adUnitPath:t.getAdUnitPath()})))),googletag.pubads().refresh(t,{changeCorrelator:i}),t.forEach((t=>!this.refreshedSlots.some((e=>t===e))&&this.refreshedSlots.push(t)))):_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.log("gpt: no refresh")},this.trackingConfirmedClick=()=>{const{confirmedClickRatio:t,siteId:e,prebidSettings:{rendererJsURL:i}}=this.configs.siteSetting;if(t<=Math.random())return;const s=new URL(i).host;let n,o=!1;const r=()=>{if(o)return;const i=window.frames,r="[Confirmed Click]",a="#confirmedClickVisible";let d=[];for(let t=0;t<i.length;t++)try{i[t].document.querySelector(a)&&d.push(i[t].name)}catch(t){_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.error(t)}const l=document.querySelectorAll("iframe");for(let t=0;t<l.length;t++)try{l[t].contentWindow?.document.querySelector(a)&&d.push(l[t].name||l[t].id)}catch(t){_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.error(t)}d=[],new Set(d).forEach((t=>d.push(t))),_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.log(r,0<d.length?"Find":"Not find"),0<d.length&&(d.forEach((i=>{const n=i.replace(/google_ads_iframe_(.*)_\d+/,"$1"),o={siteId:e,frameName:i};o.ratio=t;const a=(0,_createNewConfig__WEBPACK_IMPORTED_MODULE_4__.fP)(n);a&&(o.ad_unit_id=a),o.ad_unit_path=n;const d=new XMLHttpRequest;d.open("GET",`//${s}/json/confirmed_click_log.json?`+Object.keys(o).map((t=>t+"="+encodeURIComponent(o[t]))).join("&")),d.onload=()=>_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.log(r,"Logged",i),d.send()})),o=!0,clearInterval(n))},a=()=>r(),d=()=>{n=window.setInterval(a,1e4)};"loading"!==document.readyState?d():document.addEventListener("DOMContentLoaded",d),window.addEventListener("beforeunload",a),r()},this.checkIfEnableRefreshAd=(t,e,i,s)=>new Promise((n=>{const o=setInterval((()=>{(0,_core_utils_util__WEBPACK_IMPORTED_MODULE_3__.ze)(i)||!1!==i[t].shouldStopRefresh?(clearInterval(o),n()):(0,_core_utils_util__WEBPACK_IMPORTED_MODULE_3__.pr)()&&this.isSlotViewable(e,s)&&(_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.log(`gpt: auto refresh for ${t}`),clearInterval(o),n())}),CHECK_INTERVAL_TIME)})),this.isSlotViewable=(t,e)=>{const i=this.atsSlotsWithVisibility.find((e=>e.slot===t));return void 0===i||!!i.isViewable&&(i.visibilityPercentage>=e&&(i.isViewable=!1,!0))},this.intervalRefreshAds=(t,e,i,s,n,o=0,r=[])=>{const a=n[s];a.isGPTRefreshCalled=!0;let d=!0;const l=a.adSenseReplacementClient&&a.adSenseReplacementSlot;let _=i;const c=async()=>{if(!1===a.shouldStopRefresh){if(await new Promise((t=>setTimeout(t,1e3*e))),void 0===t[0]||!n)return;!1===a.shouldStopRefresh&&(d&&(d=!1,await this.checkIfEnableRefreshAd(s,t[0],n,o)),l||(d=!0),"number"!=typeof _||0<_--?(l?this.replaceAdSense(a):(this.setKeyValuesToSlots(t,"refr",["1"]),await this.callHb(t,!0,r),this.refreshAds(t,!0)),await c()):_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.log(`gpt: stop refresh interval for ${t.map((t=>t.getSlotElementId()))}`))}};c()},this.replaceAdSense=({slot:t,adSenseReplacementClient:e,adSenseReplacementSlot:i})=>{if(!e||!i)return;_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.log("gpt: Replace AdSense",t.id,e,i),t.textContent="";const s=document.createElement("script");s.async=!0,s.src=`https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=${e}`,s.setAttribute("crossorigin","anonymous"),t.appendChild(s);const n=document.createElement("ins");n.classList.add("adsbygoogle"),n.style.display="block",n.setAttribute("data-ad-client",e),n.setAttribute("data-ad-slot",i),n.setAttribute("data-ad-format","auto"),n.setAttribute("data-full-width-responsive","true"),t.appendChild(n),(window.adsbygoogle=window.adsbygoogle||[]).push({})},this.executeBasicTargetings=()=>{const t=window.location.search.substring(1),e=window.document.referrer?document.referrer.split("/")[2]:"null",i=window.location.pathname;if(googletag.pubads().setTargeting("url",[i]),googletag.pubads().setTargeting("ref",[e]),t){const e=t.split("&");for(let t=0;t<e.length;t++){const i=e[t].split("=");i[1]&&googletag.pubads().setTargeting("param:"+i[0],i[1])}}},this.disableInitialLoad=()=>{!googletag.pubads().isInitialLoadDisabled()&&googletag.pubads().disableInitialLoad()},this.enableSingleRequest=()=>{this.isSRAEnabled=!0,googletag.pubads().enableSingleRequest()},this.collapseEmptyDivs=()=>{googletag.pubads().collapseEmptyDivs()},this.setKeyValuesToSlots=(t,e,i)=>{t.forEach((t=>{t.setTargeting(e,i)}))},this.enableGamLazyload=t=>{googletag.pubads().enableLazyLoad({fetchMarginPercent:t.gamLazyloadFetchMarginPercent,renderMarginPercent:t.gamLazyloadRenderMarginPercent,mobileScaling:t.gamLazyloadMobileScaling})},this.enableServices=()=>{googletag.pubadsReady?_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.warn("already gpt service is enabled"):googletag.enableServices()},this.forceHB=async t=>{if(t.length<=0)return;const e=[],i=[],s=[];for(const n of t){const t=n.getAdUnitPath(),o=n.getSlotElementId();e.push(o);for(const e of this.configs.configs)if("prebid_only"===e.type&&e.settings.adUnitPath===t){const t=JSON.parse(JSON.stringify(e));t.settings.divID=o,i.push(t)}else if("tam"===e.type){const i=JSON.parse(JSON.stringify(e));i.settings.tamAdUnits=i.settings.tamAdUnits.filter((({slot:e})=>(e.slotID=o,e.slotName===t))),0<i.settings.tamAdUnits.length&&s.push(i)}}const n=_libs_Prebid__WEBPACK_IMPORTED_MODULE_1__.T.createParamaters(i,!0);_libs_Prebid__WEBPACK_IMPORTED_MODULE_1__.T.setSchain(i,!0);const o=_libs_Aps__WEBPACK_IMPORTED_MODULE_2__.F.createParamaters(s,!0);if(0<n.length){await _libs_Prebid__WEBPACK_IMPORTED_MODULE_1__.T.sendBids(n,n.map((t=>t.code)))&&n.forEach((t=>_libs_Prebid__WEBPACK_IMPORTED_MODULE_1__.T.setTargetingForEachSlot(t.code)))}if(0<o.length){await _libs_Aps__WEBPACK_IMPORTED_MODULE_2__.F.fetchApsBids(o)&&_libs_Aps__WEBPACK_IMPORTED_MODULE_2__.F.setTargeting()}this.refreshAds(t,!0)},this.infinite=async t=>{!Array.isArray(t)||t.length<0?_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.error("infinite hb: input is not correct"):(await this.callHb(t),googletag.pubads().isInitialLoadDisabled()&&this.refreshAds(t))},this.callHb=async(t,e=!1,i=[])=>{if(0!==t.length&&(_libs_Prebid__WEBPACK_IMPORTED_MODULE_1__.T.isCalled||_libs_Aps__WEBPACK_IMPORTED_MODULE_2__.F.isCalled)){const s=[],n=[],o=[];if(t.forEach((t=>{e&&(t.clearTargeting(),this.setTargetingForEachSlot(t,i));const r=t.getSlotElementId(),a=t.getAdUnitPath(),d=_libs_Prebid__WEBPACK_IMPORTED_MODULE_1__.T.adUnitsDict[a]?_libs_Prebid__WEBPACK_IMPORTED_MODULE_1__.T.adUnitsDict[a].prebidAdUnits:null,l=_libs_Prebid__WEBPACK_IMPORTED_MODULE_1__.T.adUnitsDict[a]?_libs_Prebid__WEBPACK_IMPORTED_MODULE_1__.T.adUnitsDict[a].code:null;d&&l&&(_libs_Prebid__WEBPACK_IMPORTED_MODULE_1__.T.removeAdUnit(l),d.forEach((t=>{t.code=r,s.push(t)})),n.push(r));const _=_libs_Aps__WEBPACK_IMPORTED_MODULE_2__.F.slotsDict[a];void 0!==_&&(_.slotID=r,o.push(_))})),s.length>0){await _libs_Prebid__WEBPACK_IMPORTED_MODULE_1__.T.sendBids(s,n)&&n.forEach((t=>_libs_Prebid__WEBPACK_IMPORTED_MODULE_1__.T.setTargetingForEachSlot(t)))}if(o.length>0){await _libs_Aps__WEBPACK_IMPORTED_MODULE_2__.F.fetchApsBids(o)&&_libs_Aps__WEBPACK_IMPORTED_MODULE_2__.F.setTargeting()}}},this.callOutOfPageSlot=async({adUnitPath:t,position:e,setTargetingConfigs:i},s)=>{if(await this.setPPIDPromise,this.isSRAEnabled){const t=e=>{e?.target?.removeEventListener(e.type,t),this.outOfPageSlots.forEach((({slot:t,config:e})=>{googletag.display(t),0<e.autoAdUnitPaths.length&&this.callbacksOnSlotRenderEnded.push((i=>{if(i.slot===t){if(_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.log(`gpt: render slot \npath: ${t.getAdUnitPath()}`),!i.isEmpty)return;googletag.destroySlots([i.slot]);let s=!1;e.autoAdUnitPaths.reduce(((t,i,n,o)=>t.then((async()=>{if(!s){const t={...e,adUnitPath:i},r=await this.callOutOfPageSlotforMulticall(t);r&&(r.isEmpty&&n<o.length-1?googletag.destroySlots([r.slot]):s=!0)}return Promise.resolve()}))),Promise.resolve())}}))}))};"loading"!==document.readyState?t():document.addEventListener("DOMContentLoaded",t)}else{_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.log(`call defineOutOfPageSlot adUnitPath: ${t}, position: ${e}`);const n=googletag.defineOutOfPageSlot(t,googletag.enums.OutOfPageFormat[e]);n&&(this.atsSlots.push(n),n.addService(googletag.pubads()),this.setTargetingForEachSlot(n,i||[]),googletag.display(n),googletag.pubads().isInitialLoadDisabled()&&this.refreshAds([n]),s&&this.callbacksOnSlotRenderEnded.push((t=>{t.slot===n&&(_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.log(`gpt: render slot \npath: ${n.getAdUnitPath()}`),s(t))})))}},this.defineATSSlotsForSRA=async(t,e)=>{t.forEach((t=>this.defineSlot(t.adUnitPath,[[300,250]],t.divId,t.sizeMappingGroup,t.setCollapseEmptyDiv,t.enableSetForceSafeFrameForSlot,t.setTargetingConfigs))),await this.setPPIDPromise,e.forEach((t=>{const{adUnitPath:e,position:i,setTargetingConfigs:s}=t;_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.log(`call defineOutOfPageSlot adUnitPath: ${e}, position: ${i}`);const n=googletag.defineOutOfPageSlot(e,googletag.enums.OutOfPageFormat[i]);n&&(n.addService(googletag.pubads()),this.setTargetingForEachSlot(n,s),this.outOfPageSlots.push({slot:n,config:t}),this.atsSlots.push(n))}));if(await this.blockRefresh)return void _Logger__WEBPACK_IMPORTED_MODULE_0__.vF.error("gpt: block refresh ads due to keywords");await _libs_Prebid__WEBPACK_IMPORTED_MODULE_1__.T.onFirstPrebidResponseEnded&&_libs_Prebid__WEBPACK_IMPORTED_MODULE_1__.T.setTargeting();if(await _libs_Aps__WEBPACK_IMPORTED_MODULE_2__.F.onFirstApsResponseEnded&&_libs_Aps__WEBPACK_IMPORTED_MODULE_2__.F.setTargeting(),googletag.pubads().isInitialLoadDisabled()){const t=googletag.pubads().getSlots(),e=1===this.gamAdsRefreshMode?t.filter((t=>!this.separateRequestDivIds.some((e=>e===t.getSlotElementId())))):this.atsSlots.filter((t=>!this.separateRequestDivIds.some((e=>e===t.getSlotElementId())))).concat(t.filter((t=>this.prebidOnlySlotsDivIds.some((e=>e===t.getSlotElementId())))));this.refreshAds(e)}},this.defineSlot=(t,e,i,s,n,o,r)=>{_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.log(`call defineSlot with divId: ${i}, adUnitPath: ${t}`);const a=googletag.defineSlot(t,e,i);if(!a)throw new Error(`Fail to googletag.defineSlot(${t}, ${e}, ${i})`);let d=[];if(s.forEach((t=>{const e=googletag.sizeMapping().addSize(t.deviceSizes,t.sizes).build();e&&(d=d.concat(e))})),a.defineSizeMapping(d),this.setForceSafeFrameForSlot(a,o),n)switch(n){case"none":a.setCollapseEmptyDiv(!1);break;case"after_fetch":a.setCollapseEmptyDiv(!0);break;case"before_fetch":a.setCollapseEmptyDiv(!0,!0)}return a.addService(googletag.pubads()),r&&this.setTargetingForEachSlot(a,r),this.definedAtsSlots[i]=a,this.atsSlots.push(a),this.atsSlotsWithVisibility.push({slot:a,visibilityPercentage:0,isViewable:!1}),a},this.fetchAd=async({adUnitPath:t,sizes:e,divId:i,sizeMappingGroup:s,setCollapseEmptyDiv:n,setTargetingConfigs:o,onAfterGptRendered:r,onAfterGptFetched:a,enableLazyLoad:d,lazyLoadMode:l,lazyLoadConfig:_,enableSetForceSafeFrameForSlot:c,infinite:h,slotWrapperDiv:p,instanceCount:g})=>{let u;if(u=!this.isSRAEnabled||h||this.enableSeparateRequest&&this.separateRequestDivIds.some((t=>t===i))?this.defineSlot(t,e,i,s,n,c,o):this.definedAtsSlots[i],d&&await this.waitDisplaySlot(i,_,l),await this.setPPIDPromise,_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.log("call display for: ",i),googletag.display(i),r&&this.callbacksOnSlotRenderEnded.push((e=>{e.slot===u&&(_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.log(`gpt: render slot \npath: ${t} \nslotId: ${i}`),r(e))})),h)await this.infinite([u]);else if(googletag.pubads().isInitialLoadDisabled()&&this.isSRAEnabled&&this.enableSeparateRequest){if(await this.blockRefresh)return void _Logger__WEBPACK_IMPORTED_MODULE_0__.vF.error("gpt: block refresh ads due to keywords");await _libs_Prebid__WEBPACK_IMPORTED_MODULE_1__.T.onFirstPrebidResponseEnded&&_libs_Prebid__WEBPACK_IMPORTED_MODULE_1__.T.setTargetingForEachSlot(i);await _libs_Aps__WEBPACK_IMPORTED_MODULE_2__.F.onFirstApsResponseEnded&&_libs_Aps__WEBPACK_IMPORTED_MODULE_2__.F.setTargeting(),this.refreshAds([u],!1,!1)}if(this.enableAdRecovery&&_AdObserver__WEBPACK_IMPORTED_MODULE_5__.A.observe(p,g),a)try{a(u)}catch(t){_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.error(t)}},this.lazyLoadCallback=(t,e,i,s,n,o)=>()=>{o||window.requestAnimationFrame((()=>{const r=e.getBoundingClientRect(),a=r.top-window.innerHeight,d=r.bottom,l=this.calcDistance(s,n,e);this.shouldCallDisplay(a,d,l)&&(t(),window.removeEventListener("scroll",this.lazyLoadCallbacks[i])),o=!1})),o=!0},this.waitDisplaySlot=async(t,e,i)=>await new Promise((s=>{const n=document.querySelector(`#${t}`);_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.log(`waiting display ad slots:${t}`);const o=throttle(this.lazyLoadCallback((()=>{s()}),n,t,i,e,!1),THROTTLE_TIME);this.lazyLoadCallbacks[t]=o,window.addEventListener("scroll",o)})),this.shouldCallDisplay=(t,e,i)=>Math.abs(t)<i||Math.abs(e)<i,this.calcDistance=(t,e,i)=>2===t?window.innerHeight*e:i.offsetTop*e/100,this.getVastUrl=t=>{const e=t.sz?t.sz.map((t=>t.join("x"))).join("|"):"320x180",i={...t,sz:e};return"https://securepubads.g.doubleclick.net/gampad/ads?"+new URLSearchParams(i).toString()},this.reset=t=>{try{t?0<t.length&&(googletag.pubads().clear(t),googletag.destroySlots(t)):this.destroyAtsSlotsOnly?0<this.extractAtsSlots.length&&(googletag.pubads().clear(this.extractAtsSlots),googletag.destroySlots(this.extractAtsSlots)):(googletag.pubads().clear(),googletag.destroySlots()),googletag.pubads().clearTargeting(),this.blockRefresh=null,this.atsSlots.splice(0),this.atsSlotsWithVisibility.splice(0),this.callbacksOnSlotRenderEnded.splice(0),this.definedAtsSlots={}}catch(t){_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.error(t)}},this.addGoogletagEventListner(),this.disableInitialLoad=withGptAsync(this.disableInitialLoad),this.enableSingleRequest=withGptAsync(this.enableSingleRequest),this.collapseEmptyDivs=withGptAsync(this.collapseEmptyDivs),this.enableGamLazyload=withGptAsync(this.enableGamLazyload),this.executeBasicTargetings=withGptAsync(this.executeBasicTargetings),this.enableServices=withGptAsync(this.enableServices),this.fetchAd=withGptAsync(this.fetchAd),this.refreshAds=withGptAsync(this.refreshAds),this.callOutOfPageSlot=withGptAsync(this.callOutOfPageSlot),this.defineATSSlotsForSRA=withGptAsync(this.defineATSSlotsForSRA),this.reset=withGptAsync(this.reset)}init(t){this.configs=t,this.gamAdsRefreshMode=t.siteSetting.gamAdsRefresh,this.enableSeparateRequest=t.siteSetting.enableSeparateRequest,this.destroyAtsSlotsOnly=t.siteSetting.destroyAtsSlotsOnly,this.enableAdRecovery=t.siteSetting.enableAdRecovery,this.separateRequestDivIds=t.separateRequestDivIds,this.prebidOnlySlotsDivIds=t.prebidOnlySlotsDivIds,this.enableAdRecovery&&setTimeout((()=>{googletag=window.googletag=window.googletag||{},googletag.cmd=googletag.cmd||[],this.addGoogletagEventListner()}),1e4);const e=t.siteSetting.publisherProvidedSignal;e&&googletag.cmd.push((()=>{googletag.pubads().setTargeting(e.key,e.value)})),this.setPPIDPromise=this.setPPID(t.siteSetting.ppidServerUrl,t.siteSetting.ppidCustomJs)}async callOutOfPageSlotWrapper(t){const e=[t.adUnitPath,...t.autoAdUnitPaths];if(1==e.length)this.callOutOfPageSlot(t);else{const i=e.values();let s=i.next();for(;s.value;){const e=await new Promise((e=>{const i={...t,adUnitPath:s.value};this.callOutOfPageSlot(i,(t=>{e(t)}))}));if(s=i.next(),!e.isEmpty||s.done)break;googletag.destroySlots([e.slot])}}}async callOutOfPageSlotforMulticall({adUnitPath:t,position:e,setTargetingConfigs:i}){_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.log(`call defineOutOfPageSlot adUnitPath: ${t}, position: ${e}`);const s=googletag.defineOutOfPageSlot(t,googletag.enums.OutOfPageFormat[e]);if(s)return this.atsSlots.push(s),s.addService(googletag.pubads()),this.setTargetingForEachSlot(s,i),googletag.display(s),googletag.pubads().isInitialLoadDisabled()&&this.refreshAds([s]),new Promise((t=>{this.callbacksOnSlotRenderEnded.push((e=>{e.slot===s&&(_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.log(`gpt: render slot \npath: ${s.getAdUnitPath()}`),t(e))}))}))}get extractAtsSlots(){const t=[];return googletag.pubads().getSlots().forEach((e=>{const i=e.getSlotElementId(),s=e.getAdUnitPath();(this.configs.gptSlotConfigs.some((t=>t.divId===i))||this.configs.gptOutOfPageSettings.some((t=>t.adUnitPath===s)))&&t.push(e)})),t}}const gpt=new Gpt},335:(t,e,i)=>{i.d(e,{vF:()=>a});var s=i(581),n=i(348);const o="ats_pbjs_debug";class r extends s.V{constructor(t,e){super(t,e),this.enableLog=n.sp,this.isDev=n.Cu,this.getSlotInfo=(t,e)=>{this.log(t,`adUnitPath: ${e.getAdUnitPath()}\n         slotElementId: ${e.getSlotElementId()}`)},this.setPrebidLog=(t=!this.enablePrebidLog)=>{t?window.sessionStorage?.setItem(o,"true"):window.sessionStorage?.removeItem(o),location.reload()},this.enablePrebidLog="true"===window.sessionStorage?.getItem(o)}}const a=new r("Ads",n.sp)},903:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{h:()=>TagServices});var _libs_SiteSettings__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(332),_libs_ads_InsertAds__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(456),_libs_ads_Overlay__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(101),_libs_ads_Interstitial__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(463),_libs_ads_Skyscraper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(284),_libs_ads_AdxInterstitial__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(840),_libs_ads_AdxOverlay__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(404),_Logger__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(335),_libs_Prebid__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(326),_libs_Aps__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(34),_Gpt__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(554),_TargetObserver__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(356),_AdObserver__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(8),_Debug__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(348),_core_utils_util__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(939),_libs_JsReadControl__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(352),_libs_ads_Parallax__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(862),_libs_ads_ReplaceAds__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(67),_libs_ads_Slider__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(476),_FunctionTargeting__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(472),_libs_ads_InsertVideo__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(389),_VideoManager__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(561),_config_thirdPartyVideoPlayer__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(641);class TagServices{constructor(configs){this.configs=configs,this.INTERSTITIAL_BLOCK_AD_INSTANCE_COUNT=100,this.atsLogger=_Logger__WEBPACK_IMPORTED_MODULE_7__.vF,this.setDev=_Debug__WEBPACK_IMPORTED_MODULE_13__.KB,this.loaded=!0,this.que={push:t=>{try{t()}catch(t){_Logger__WEBPACK_IMPORTED_MODULE_7__.vF.error(t)}}},this.hb=_Gpt__WEBPACK_IMPORTED_MODULE_10__.Um.infinite,this.forceHB=_Gpt__WEBPACK_IMPORTED_MODULE_10__.Um.forceHB,this.infinite={},this.executeInfinite=async(t,e=[])=>{this.configs.recalculate(),_Logger__WEBPACK_IMPORTED_MODULE_7__.vF.log("recalculated config: ",this.configs),await this.checkBlock(t)||this.callAdsFunctions(this.configs.configs,t,!0,e)},this.instances=[],this.callAdsFunctions=async(_configs,element=document,infinite=!1,keys=[])=>{const configs=[];for(const t of _configs)!infinite&&"interstitial"===t.type&&(t.active||_Logger__WEBPACK_IMPORTED_MODULE_7__.vF.isDev)&&t.settings.blockWithoutAds?await new Promise((e=>{this.executeInterstitial(t,this.INTERSTITIAL_BLOCK_AD_INSTANCE_COUNT,e)})):configs.push(t);configs.forEach(((config,index)=>{if(this.executeInterstitial(config,index),!infinite&&"overlay"===config.type&&(config.active||_Logger__WEBPACK_IMPORTED_MODULE_7__.vF.isDev)){const t=new _libs_ads_Overlay__WEBPACK_IMPORTED_MODULE_2__.h(config.settings,index);if(this.instances.push(t),"loading"!==document.readyState)t.execute();else{const e=()=>{document.removeEventListener("DOMContentLoaded",e),t.execute()};document.addEventListener("DOMContentLoaded",e)}}if("skyscraper"===config.type&&(config.active||_Logger__WEBPACK_IMPORTED_MODULE_7__.vF.isDev)){const{selector:t,targetType:e,adUnitPath:i}=config.settings;if(infinite&&(0==keys.length||keys.includes(i))){if(!this.infinite[i]){const t=new _libs_ads_Skyscraper__WEBPACK_IMPORTED_MODULE_4__.G(config.settings,index);this.instances.push(t),this.infinite[i]=t}this.infinite[i].execute(element,infinite)}else if(!infinite){const s=new _libs_ads_Skyscraper__WEBPACK_IMPORTED_MODULE_4__.G(config.settings,index);this.instances.push(s),this.infinite[i]=s,_TargetObserver__WEBPACK_IMPORTED_MODULE_11__.c.waitForElement(t,e,(t=>{s.execute(t)}))}}if("insert_ads"===config.type&&(config.active||_Logger__WEBPACK_IMPORTED_MODULE_7__.vF.isDev)){const{selector:t,targetType:e,adUnitPath:i}=config.settings;if(infinite&&(0==keys.length||keys.includes(i))){if(!this.infinite[i]){const t=new _libs_ads_InsertAds__WEBPACK_IMPORTED_MODULE_1__.W(config.settings,index);this.instances.push(t),this.infinite[i]=t}this.infinite[i].execute(element,infinite)}else if(!infinite){const s=new _libs_ads_InsertAds__WEBPACK_IMPORTED_MODULE_1__.W(config.settings,index);this.instances.push(s),this.infinite[i]=s,_TargetObserver__WEBPACK_IMPORTED_MODULE_11__.c.waitForElement(t,e,(t=>{s.execute(t)}))}}if(!infinite&&"insert_video"===config.type&&(config.active||_Logger__WEBPACK_IMPORTED_MODULE_7__.vF.isDev)){const{thirdPartyVideoPlayerSettings:t,youtubeChannelFeedUrl:e,videoSource:i,divIDs:s,amVideoFeed:n,rssFeedJsonUrl:o,selector:r,insertPosition:a,targetType:d}=config.settings,l=100*Math.random(),_=t[1]?.frequency||0,c=t[2]?.frequency||0,h=t[3]?.frequency||0;if(_&&l<_){if(config.settings.adUnitPath){1===i&&e?_VideoManager__WEBPACK_IMPORTED_MODULE_21__.f.fetchYTVideoFeed(e):2===i&&n?_VideoManager__WEBPACK_IMPORTED_MODULE_21__.f.registerAMVideoFeed(n,s[0]):3!==i&&4!==i||!o||_VideoManager__WEBPACK_IMPORTED_MODULE_21__.f.fetchRssVideoFeed(o);const t=new _libs_ads_InsertVideo__WEBPACK_IMPORTED_MODULE_20__.b(config.settings);this.instances.push(t),this.infinite[config.settings.adUnitPath]=t,_TargetObserver__WEBPACK_IMPORTED_MODULE_11__.c.waitForElement(r,d,(e=>{t.execute(e,!1)}))}}else if(c||h){let e=c?2:3;h&&l>=c+_&&(e=3),_TargetObserver__WEBPACK_IMPORTED_MODULE_11__.c.waitForElement(r,d,(i=>{(0,_config_thirdPartyVideoPlayer__WEBPACK_IMPORTED_MODULE_22__.r)(e,d,r,a,t[e].width||360,t[e].slot||"");const s=t[e].custom_css;s&&(0,_core_utils_util__WEBPACK_IMPORTED_MODULE_14__.TD)(s)}))}}if("replace_ads"===config.type&&(config.active||_Logger__WEBPACK_IMPORTED_MODULE_7__.vF.isDev)){const{selector:t,targetType:e,adUnitPath:i}=config.settings;if(infinite&&(0==keys.length||keys.includes(i))){if(!this.infinite[i]){const t=new _libs_ads_ReplaceAds__WEBPACK_IMPORTED_MODULE_17__.N(config.settings,index);this.instances.push(t),this.infinite[i]=t}setTimeout((()=>{this.infinite[i].execute(element,infinite)}),1e3*config.settings.replaceTime)}else if(!infinite){const s=new _libs_ads_ReplaceAds__WEBPACK_IMPORTED_MODULE_17__.N(config.settings,index);this.instances.push(s),this.infinite[i]=s,setTimeout((()=>{_TargetObserver__WEBPACK_IMPORTED_MODULE_11__.c.waitForElement(t,e,(t=>{s.execute(t,!0)}))}),1e3*config.settings.replaceTime)}}if("parallax"===config.type&&(config.active||_Logger__WEBPACK_IMPORTED_MODULE_7__.vF.isDev)){const{selector:t,targetType:e,adUnitPath:i}=config.settings;if(infinite&&(0==keys.length||keys.includes(i))){if(!this.infinite[i]){const t=new _libs_ads_Parallax__WEBPACK_IMPORTED_MODULE_16__.k(config.settings,index);this.instances.push(t),this.infinite[i]=t}this.infinite[i].execute(element,infinite)}else if(!infinite){const s=new _libs_ads_Parallax__WEBPACK_IMPORTED_MODULE_16__.k(config.settings,index);this.instances.push(s),this.infinite[i]=s,_TargetObserver__WEBPACK_IMPORTED_MODULE_11__.c.waitForElement(t,e,(t=>{s.execute(t)}))}}if(!infinite&&"slider"===config.type&&(config.active||_Logger__WEBPACK_IMPORTED_MODULE_7__.vF.isDev)){const t=new _libs_ads_Slider__WEBPACK_IMPORTED_MODULE_18__.A(config.settings,index);this.instances.push(t);const{selector:e,targetType:i}=config.settings;_TargetObserver__WEBPACK_IMPORTED_MODULE_11__.c.waitForElement(e,i,(e=>{t.execute(e)}))}if(infinite||"adx_inst"!==config.type||!config.active&&!_Logger__WEBPACK_IMPORTED_MODULE_7__.vF.isDev||(this.instances.push(_libs_ads_AdxInterstitial__WEBPACK_IMPORTED_MODULE_5__.M),_libs_ads_AdxInterstitial__WEBPACK_IMPORTED_MODULE_5__.M.execute(config.settings)),infinite||"adx_overlay"!==config.type||!config.active&&!_Logger__WEBPACK_IMPORTED_MODULE_7__.vF.isDev||(this.instances.push(_libs_ads_AdxOverlay__WEBPACK_IMPORTED_MODULE_6__.m),_libs_ads_AdxOverlay__WEBPACK_IMPORTED_MODULE_6__.m.execute(config.settings)),!infinite&&"apm"===config.type&&(config.active||_Logger__WEBPACK_IMPORTED_MODULE_7__.vF.isDev)){const t=new _libs_ads_InsertAds__WEBPACK_IMPORTED_MODULE_1__.W(config.settings,index),{selector:e,targetType:i}=config.settings;_TargetObserver__WEBPACK_IMPORTED_MODULE_11__.c.waitForElement(e,i,(e=>{t.execute(e)}))}if(!infinite&&"custom"===config.type&&(config.active||_Logger__WEBPACK_IMPORTED_MODULE_7__.vF.isDev)){if(config.settings.script)try{eval(config.settings.script)}catch(t){_Logger__WEBPACK_IMPORTED_MODULE_7__.vF.error("custom script failed",t)}config.settings.style&&(0,_core_utils_util__WEBPACK_IMPORTED_MODULE_14__.TD)(config.settings.style)}})),_Gpt__WEBPACK_IMPORTED_MODULE_10__.Um.trackingConfirmedClick()},this.executeInterstitial=(config,instanceCount,resolve)=>{if("interstitial"===config.type&&(config.active||_Logger__WEBPACK_IMPORTED_MODULE_7__.vF.isDev)){const interstitial=new _libs_ads_Interstitial__WEBPACK_IMPORTED_MODULE_3__.R(config.settings,instanceCount,resolve);if(this.instances.push(interstitial),"loading"!==document.readyState)interstitial.execute();else{const t=()=>{document.removeEventListener("DOMContentLoaded",t),interstitial.execute()};document.addEventListener("DOMContentLoaded",t)}if(config.settings.script)try{eval(config.settings.script)}catch(t){_Logger__WEBPACK_IMPORTED_MODULE_7__.vF.error("Custom script for interstitial settings failed",t)}}},this.notYetDiscarded=!0,this.dispose=t=>{_Logger__WEBPACK_IMPORTED_MODULE_7__.vF.log("tag: dispose start"),this.instances.forEach((t=>t.dispose())),this.instances.splice(0);for(const t in this.infinite)delete this.infinite[t];_Gpt__WEBPACK_IMPORTED_MODULE_10__.Um.reset(t),_libs_Prebid__WEBPACK_IMPORTED_MODULE_8__.T.reset(),_libs_Aps__WEBPACK_IMPORTED_MODULE_9__.F.reset(),_TargetObserver__WEBPACK_IMPORTED_MODULE_11__.c.reset(),_Logger__WEBPACK_IMPORTED_MODULE_7__.vF.reset(),this.notYetDiscarded=!1,_FunctionTargeting__WEBPACK_IMPORTED_MODULE_19__.O.dispose(),_Logger__WEBPACK_IMPORTED_MODULE_7__.vF.log("tag: dispose end")},this.siteSettingsConfig=configs.siteSetting,_VideoManager__WEBPACK_IMPORTED_MODULE_21__.f.registerVideoUrls(this.siteSettingsConfig.videoJsUrl,this.siteSettingsConfig.videoCssUrl);const{keywordsBlock,enablePrebid,prebidSettings}=this.siteSettingsConfig,callKeywordBlockFlag=!(0,_core_utils_util__WEBPACK_IMPORTED_MODULE_14__.ze)(keywordsBlock);_AdObserver__WEBPACK_IMPORTED_MODULE_12__.A.init(this.siteSettingsConfig),_Gpt__WEBPACK_IMPORTED_MODULE_10__.Um.init(configs);const jsReadControlPromise=(0,_libs_JsReadControl__WEBPACK_IMPORTED_MODULE_15__.X)(this.siteSettingsConfig);if(this.siteSettings=new _libs_SiteSettings__WEBPACK_IMPORTED_MODULE_0__.p(this.siteSettingsConfig,jsReadControlPromise),this.instances.push(this.siteSettings),this.siteSettings.browsersBlock())return void _Logger__WEBPACK_IMPORTED_MODULE_7__.vF.log("browser block");enablePrebid&&_libs_Prebid__WEBPACK_IMPORTED_MODULE_8__.T.init(this.configs.configs.filter((t=>"prebid_only"===t.type)),this.siteSettingsConfig.prebidSettings,this.siteSettingsConfig.siteId,this.siteSettingsConfig.parentAccountSiteDomain,configs.prebidAnalyticsConfig,jsReadControlPromise),enablePrebid&&prebidSettings.prebidTamPubId&&_libs_Aps__WEBPACK_IMPORTED_MODULE_9__.F.init(this.configs.configs.filter((t=>"tam"===t.type)),this.siteSettingsConfig.prebidSettings.prebidTimeout,this.siteSettingsConfig.prebidSettings.prebidTamPubId,this.siteSettingsConfig.siteId,this.siteSettingsConfig.parentAccountSiteDomain,jsReadControlPromise);const callGPTDisableInitialLoadFlag=_libs_Prebid__WEBPACK_IMPORTED_MODULE_8__.T.isCalled&&!_libs_Prebid__WEBPACK_IMPORTED_MODULE_8__.T.noAdUnits||_libs_Aps__WEBPACK_IMPORTED_MODULE_9__.F.isCalled&&!_libs_Aps__WEBPACK_IMPORTED_MODULE_9__.F.noSlots||callKeywordBlockFlag||this.siteSettingsConfig.enableGamDisableInitialLoad;this.siteSettings.init(callGPTDisableInitialLoadFlag,this.configs.apmConfig,configs.gptSlotConfigsForSRA,configs.gptOutOfPageSettings),this.checkBlock().then((t=>{t||this.callAdsFunctions(this.configs.configs)}))}async checkBlock(t){const{keywordsBlock:e}=this.siteSettingsConfig;if(!(0,_core_utils_util__WEBPACK_IMPORTED_MODULE_14__.ze)(e)){const i=e.keywordsCountry;return _Gpt__WEBPACK_IMPORTED_MODULE_10__.Um.blockRefresh=i&&i.length>0?this.siteSettings.fetchKeywordJson(t):this.siteSettings.callKeywordBlocks(t),_Gpt__WEBPACK_IMPORTED_MODULE_10__.Um.blockRefresh.then((t=>(_Logger__WEBPACK_IMPORTED_MODULE_7__.vF.log(t?"[BLOCK]":"[UN-BLOCK]"),t)))}return _Logger__WEBPACK_IMPORTED_MODULE_7__.vF.log("[UN-BLOCK]"),!1}}},356:(t,e,i)=>{i.d(e,{c:()=>r});var s=i(939),n=i(335);const o={childList:!0,subtree:!0};const r=new class{constructor(){this.MUTATION_OBSERVER_TIMEOUT=6e5,this.mutationObserver=null,this.elementListeners=[],this.connect=()=>{this.mutationObserver=(0,s.l9)(this.check.bind(this),50),this.mutationObserver.observe(document,o),this.disconnectTimeoutId=window.setTimeout(this.disconnect.bind(this),this.MUTATION_OBSERVER_TIMEOUT),this.check()},this.disconnect=()=>{null!==this.mutationObserver&&(this.mutationObserver.disconnect(),n.vF.log("MutationObserver disconnected"),this.mutationObserver=null,this.disconnectTimeoutId&&(window.clearTimeout(this.disconnectTimeoutId),delete this.disconnectTimeoutId),this.check())},this.check=()=>{if(0!==this.elementListeners.length){const t=this.elementListeners.slice();for(let e=t.length-1;e>=0;e--){const{selector:i,targetType:o,fn:r}=t[e],a=(0,s.EW)(window.document,i,o);if(null!=a){try{r(window.document)}catch(t){n.vF.error(t)}this.elementListeners.splice(e,1)}}}},this.waitForElement=(t,e,i)=>{this.elementListeners.push({selector:t,targetType:e,fn:i}),this.mutationObserver||this.connect()},this.reset=()=>{try{this.disconnect(),delete this.disconnectTimeoutId;for(let t=0;t<this.elementListeners.length;t++){const e=this.elementListeners[t];delete e.fn,delete e.selector,delete e.targetType}this.elementListeners.splice(0)}catch(t){n.vF.error(t)}}}}},561:(t,e,i)=>{i.d(e,{f:()=>o});var s=i(335);class n extends Error{constructor(t,e){super(t),this.res=e,this.errorHandling=()=>{switch(this.res.status){case 404:s.vF.error("no file");break;case 403:s.vF.error("no permission");break;default:s.vF.log(this.res)}},s.vF.log(e),this.errorHandling()}}const o=new class{constructor(){this.videoJs="",this.videoCss="",this.ytFeedJson={},this.amFeedJson={},this.rssFeedJson={},this.selectedVideoFeedJson={},this.insertedVideoTag=!1,this.registerVideoUrls=(t,e)=>{this.videoJs=t,this.videoCss=e},this.registerSelectedVideos=(t,e)=>{this.selectedVideoFeedJson[e]=t},this.chooseRandomSelectedVideo=(t,e)=>{const i=this.selectedVideoFeedJson[t][Math.floor(Math.random()*this.selectedVideoFeedJson[t].length)];return i.hasOwnProperty("hls")?Promise.resolve(i).then((t=>t)):this.ytFeedJson[e].then((t=>t.videos[i.video_id]))},this.fetchYTVideoFeed=t=>{this.ytFeedJson[t]||(this.ytFeedJson[t]=fetch(t).then((t=>{if(!t.ok)throw new n("fetch error",t);return t.json()})).catch((()=>"")))},this.fetchRssVideoFeed=t=>{this.rssFeedJson[t]||(this.rssFeedJson[t]=fetch(t).then((t=>{if(!t.ok)throw new n("fetch error",t);return t.json()})).catch((()=>"")))},this.registerAMVideoFeed=(t,e)=>{this.amFeedJson[e]=t},this.chooseAMVideoEntry=t=>this.amFeedJson[t][Math.floor(Math.random()*this.amFeedJson[t].length)],this.chooseLatestPublishedYTVideoEntry=t=>this.ytFeedJson[t].then((t=>Object.keys(t.videos).map((e=>t.videos[e])).reduce(((t,e)=>e.published_at?Date.parse(t.published_at)>Date.parse(e.published_at)?t:e:t)))),this.chooseRandomYTVideoEntry=t=>this.ytFeedJson[t].then((t=>{const e=Object.keys(t.videos).map((e=>t.videos[e]));return e[Math.floor(Math.random()*e.length)]})),this.chooseRssFeedVideoEntry=(t,e)=>this.rssFeedJson[t].then((t=>t.videos?t.videos[e]:void 0)),this.insertVideoTag=async()=>{if(!this.insertedVideoTag){const t=(t,e)=>new Promise((i=>{if("style"===t){const t=document.createElement("link");t.href=e,t.rel="stylesheet",t.setAttribute("ats-videojs","true"),t.onload=()=>i(),document.head.append(t)}else{const t=document.createElement("script");t.src=e,t.setAttribute("ats-videojs","true"),t.onload=()=>i(),document.head.append(t)}}));await Promise.all([t("style",this.videoCss),t("script","https://imasdk.googleapis.com/js/sdkloader/ima3.js"),t("script",this.videoJs)]),this.insertedVideoTag=!0}}}}},292:(t,e,i)=>{i.d(e,{L1:()=>r,PI:()=>d,X1:()=>l,ap:()=>s,fX:()=>n,yN:()=>a,z1:()=>o});const s={USD:{HKD:7.75,JPY:110,PHP:51.22,SGD:1.4,CNY:6.9,THB:34,MYR:4.24,IDR:14710,EUR:.9}},n=[{bidder:"criteo"},{bidder:"ix",versions:[5]},{bidder:"openx"}],o={buckets:[{precision:2,min:0,max:4,increment:.01},{precision:2,min:4,max:20,increment:.1}]},r={adgeneration:{bidCpmAdjustment:t=>.85*t},standard:{storageAllowed:!0}},a={alwaysUseBid:!0,sendStandardTargeting:!1,suppressEmptyKeys:!0,adserverTargeting:[{key:"adt",val:t=>t.adt},{key:"alc",val:t=>t.alc},{key:"dlm",val:t=>t.dlm},{key:"drg",val:t=>t.drg},{key:"hat",val:t=>t.hat},{key:"off",val:t=>t.off},{key:"vio",val:t=>t.vio},{key:"fr",val:t=>t.fr},{key:"id",val:t=>t.slots[t.adUnitCode].id},{key:"vw",val:t=>t.slots[t.adUnitCode].vw},{key:"grm",val:t=>t.slots[t.adUnitCode].grm},{key:"pub",val:t=>t.slots[t.adUnitCode].pub},{key:"vw05",val:t=>t.slots[t.adUnitCode].vw05},{key:"vw10",val:t=>t.slots[t.adUnitCode].vw10},{key:"vw15",val:t=>t.slots[t.adUnitCode].vw15},{key:"vw30",val:t=>t.slots[t.adUnitCode].vw30}]},d=["criteo","pubmatic","unruly","ix"],l={maxTopicCaller:2,bidders:[{bidder:"pubmatic",iframeURL:"https://ads.pubmatic.com/AdServer/js/topics/topics_frame.html",expiry:7},{bidder:"yandex",iframeURL:"https://yandex.ru/ads/prebid/topics_frame.html",expiry:7}]}},641:(t,e,i)=>{i.d(e,{r:()=>n});var s=i(939);const n=(t,e,i,n,o,r)=>{if(2==t){(()=>{const t=(0,s.EW)(document,i,e);if(!t)return;const a=document.createElement("div");a.className="ats-trvd-wrapper",a.style.width=`${o}px`,a.style.margin="20px auto";const d=document.createElement("script");d.src=r,d.type="text/javascript",d.async=!0,d.dataset.cfasync="false",a.append(d),t&&t.insertAdjacentElement(n,a)})()}else{(()=>{const t=(0,s.EW)(document,i,e);if(!t)return;const a=document.createElement("div");a.className="ats-glia-wrapper",a.style.width=`${o}px`,a.style.margin="20px auto";const d=document.createElement("div");d.className="gliaplayer-container",d.dataset.slot=r,a.append(d);const l=document.createElement("script");l.src=`https://player.gliacloud.com/player/${r}`,l.async=!0,a.append(l),t.insertAdjacentElement(n,a)})()}}},231:(t,e,i)=>{i.d(e,{PC:()=>p,fP:()=>c});var s=i(335),n=i(939);const o=["interstitial","insert_ads","overlay","skyscraper","parallax","replace_ads","slider"],r=["interstitial","insert_ads","overlay","skyscraper","parallax","slider"],a=["overlay"],d=["insert_ads","skyscraper","parallax","replace_ads","slider"],l=["interstitial","overlay"],_={},c=t=>{const e=_.originalConfig?.configs.find((e=>"adUnitId"in e.settings&&"adUnitPath"in e.settings&&e.settings.adUnitPath===t));if(e&&"adUnitId"in e.settings)return e.settings.adUnitId};class h{constructor(t){this.originalConfig=t,this.siteSetting=this.originalConfig.siteSetting,this.configs=[],this.apmConfig={pageId:null,formats:[]},this.gptOutOfPageSettings=[],this.separateRequestDivIds=[],this.prebidOnlySlotsDivIds=[],this.prebidAnalyticsConfig={adUnitIdPathMapping:{},amPrebidBidderMap:this.originalConfig.amPrebidBidderMap},this.gptSlotConfigsForSRA=[],this.gptSlotConfigs=[],this.recalculate()}recalculate(){this.configs.splice(0),this.apmConfig.pageId=null,this.apmConfig.formats.splice(0),this.gptOutOfPageSettings.splice(0),this.separateRequestDivIds.splice(0),this.prebidOnlySlotsDivIds.splice(0),this.prebidAnalyticsConfig.adUnitIdPathMapping={};const t=window!==window.parent,e=document.location.pathname+document.location.search+document.location.hash,i=window.location.pathname,_=""!==document.referrer?new URL(document.referrer).hostname:"",c=(0,n.gE)();s.vF.log("device: ",c),s.vF.log("url path: ",i);const h=this.originalConfig.configs.filter((e=>!("parallax"===e.type&&/(trident|msie)/i.test(navigator.userAgent))&&!(a.some((t=>e.type===t))&&t)&&(0,n.G)(e,i)&&(0,n.FC)(e.device,c)&&(0,n.oj)(e,_)&&(0,n.k3)(e,n.dk)));if(this.originalConfig.configs.some((t=>t.enableReferrerTargeting&&t.enableKeepingReferrer&&t.domainList))){const t=(0,n.yz)(this.siteSetting.hostNames,location.hostname),e=(0,n.kU)(t,_);n.dk.splice(0),n.dk.push(...(0,n.P7)(t,"ats_ads_referrer_history",_,e))}if(this.siteSetting.enableUrlBlock&&(0,n.UW)(this.siteSetting.blockedUrls,e))return void s.vF.log("url Block");const p=[];for(const t of h){if(o.some((e=>t.type===e))){const{adUnitPath:e,divIDs:i}=t.settings;i.forEach((t=>{this.gptSlotConfigs.push({adUnitPath:e,divId:t})}))}if(this.siteSetting.enableGamSingleRequest||this.siteSetting.enablePrebid||!(0,n.ze)(this.siteSetting.keywordsBlock)){let e=this.siteSetting.enableSeparateRequest?l:r;const i="functionTrigger"in t.settings&&t.settings.useFunctionTrigger;if("overlay"==t.type&&i&&(e=e.filter((t=>"overlay"!==t)),d.push("overlay")),e.some((e=>t.type===e))&&(t.active||s.vF.isDev)){const{adUnitPath:e,divIDs:i,setCollapseEmptyDiv:s,sizeMappingGroup:n,setTargetingConfigs:o,enableSetForceSafeFrameForSlot:r}=t.settings;i.forEach((t=>{this.gptSlotConfigsForSRA.push({adUnitPath:e,sizes:[[300,250]],divId:t,setCollapseEmptyDiv:s,sizeMappingGroup:n,setTargetingConfigs:o,enableSetForceSafeFrameForSlot:r})}))}if(this.siteSetting.enableSeparateRequest&&d.some((e=>t.type===e))&&(t.active||s.vF.isDev)){const{divIDs:e}=t.settings;this.separateRequestDivIds.push(...e)}if("prebid_only"===t.type&&(t.active||s.vF.isDev)){const{divID:e}=t.settings;p.push(e),this.prebidAnalyticsConfig.adUnitIdPathMapping[e]={id:t.settings.adUnitId,path:t.settings.adUnitPath}}"adx_inst"===t.type&&(t.active||s.vF.isDev)&&this.gptOutOfPageSettings.push(t.settings),"adx_overlay"===t.type&&(t.active||s.vF.isDev)&&this.gptOutOfPageSettings.push(t.settings)}if("apm"===t.type&&(this.apmConfig.formats.push({id:t.settings.formatId}),this.apmConfig.pageId=t.settings.pageId),this.configs.push(t),t.breakPoint&&(t.active||s.vF.isDev)){s.vF.log("this is break point, config: ",t);break}}this.prebidOnlySlotsDivIds=p.filter((t=>!this.gptSlotConfigs.some((e=>e.divId===t))))}}const p=t=>new h(t)},69:(t,e,i)=>{i.d(e,{K:()=>o});var s=i(939);window.adloox_pubint=window.adloox_pubint||{cmd:[]};const n=window.googletag=window.googletag||{};n.cmd=n.cmd||[];const o=new class{constructor(){this.ADLOOX_URL="//p.adlooxtracking.com/gpt/a.js",this.isCalled=!1,this.init=(t,e)=>{t&&this.reducer(e,(()=>{this.isCalled=!0,(0,s.nL)(!0,this.ADLOOX_URL),window.adloox_pubint.cmd.push((function(){window.adloox_pubint.init({clientid:152,platformid:238,tagid:1095})})),n.cmd.push((function(){window.adloox_pubint.cmd.push((function(){window.adloox_pubint.gpt_js(n)})),setTimeout((function(){window.adloox_pubint.cmd.push((function(){window.adloox_pubint.gpt(n,(()=>{}))}))}),2e3)}))}))},this.reducer=(t,e)=>{Math.random()<t&&e()}}}},34:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F:()=>aps});var _Logger__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(335),_core_utils_util__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(939);const REGEX_TAM_PUB_ID=/^\d{4}$/;class AmazonPublisherService{constructor(){this.isCalled=!1,this.noSlots=!1,this.onFirstApsResponseEnded=null,this.slotsDict={},this.init=(t,e,i,s,n,o)=>{this.noSlots=!1,this.configs=t,this.timeout=e,this.apsPubId=i,this.isCalled||(this.isCalled=!0,this.loadAps(o));const r={complete:1,ver:"1.0",nodes:[{asi:n,sid:`${s}`,hp:1}]};REGEX_TAM_PUB_ID.test(i)?window.apstag.init({pubID:this.apsPubId,adServer:"googletag"}):window.apstag.init({pubID:this.apsPubId,adServer:"googletag",schain:r});const a=this.createParamaters(this.configs,!1);if(0===a.length)return this.noSlots=!0,void _Logger__WEBPACK_IMPORTED_MODULE_0__.vF.error("aps: no slots");this.onFirstApsResponseEnded=this.fetchApsBids(a)},this.loadAps=t=>{!function(e,i,s,n,o){if(i[e])return;function r(t,s){i[e]._Q.push([t,s])}i[e]={init:function(){r("i",arguments)},fetchBids:function(){r("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},dpa:function(){r("di",arguments)},rpa:function(){r("ri",arguments)},upa:function(){r("ui",arguments)},_Q:[]};const a=t=>{try{t()}catch(t){_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.error(t)}};window.anymindTSApstag=window.anymindTSApstag||{cmd:[]},window.anymindTSApstag.cmd.forEach(a),window.anymindTSApstag.cmd.splice(0),window.anymindTSApstag.cmd.push=a;const d=()=>{const t=s.createElement(n);t.async=!0,t.src=o;const e=s.getElementsByTagName(n)[0];e.parentNode?.insertBefore(t,e)};t?t.then(d):d()}("apstag",window,document,"script","//c.amazon-adsystem.com/aax2/apstag.js")},this.setTargeting=()=>{_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.log("aps: setTargeting"),window.apstag.setDisplayBids()},this.fetchApsBids=t=>new Promise((e=>{window.apstag.fetchBids({slots:t,timeout:this.timeout},(t=>{_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.log("aps return bids",t),e(!0)}))})),this.createParamaters=(configs,force)=>{const slots=[];for(const config of configs)if(force||config.active||_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.isDev)for(const tamAdUnit of config.settings.tamAdUnits)if((0,_core_utils_util__WEBPACK_IMPORTED_MODULE_1__.hg)(tamAdUnit.deviceSizes)){let slotID=tamAdUnit.slot.slotID;try{slotID="Function"===tamAdUnit.slot.divIDType&&eval(slotID)||slotID}catch(t){_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.error("aps: The script to find the target failed.",t);continue}const apsAdSlot={slotID,slotName:tamAdUnit.slot.slotName,sizes:tamAdUnit.slot.sizes.filter((t=>t.enable||_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.isDev)).reduce(((t,e)=>{for(const[i,s]of e.sizes)t.push([i,s]);return t}),[])};if(apsAdSlot.sizes.length<=0)continue;this.slotsDict[apsAdSlot.slotName]=apsAdSlot,slots.push(apsAdSlot);break}return _Logger__WEBPACK_IMPORTED_MODULE_0__.vF.log("aps: slots",slots),_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.log("aps: slots dict",this.slotsDict),slots},this.reset=()=>{this.onFirstApsResponseEnded=null,this.noSlots=!1}}}const aps=new AmazonPublisherService},352:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{X:()=>jsReadControl});var _core_utils_util__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(939),_Logger__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(335);const jsReadControl=({enablePrebid,enableIdentityHub,identityHubPublisherId,identityHubProfileId,enableLiveRamp,liveRampJsURL,liveRampScript})=>{if(enablePrebid&&enableLiveRamp&&liveRampJsURL&&(_Logger__WEBPACK_IMPORTED_MODULE_1__.vF.log("LiveRamp enable"),window.setTimeout((()=>{if(/.*launchpad-wrapper\.privacymanager\.io\/.*/.test(liveRampJsURL)){const t=document.createElement("link");t.setAttribute("rel","preload"),t.setAttribute("href","https://launchpad.privacymanager.io/1/launchpad.bundle.js"),t.setAttribute("as","script"),document.head.appendChild(t)}(0,_core_utils_util__WEBPACK_IMPORTED_MODULE_0__.nL)(!1,liveRampJsURL,(()=>{_Logger__WEBPACK_IMPORTED_MODULE_1__.vF.log("LiveRamp onload");try{liveRampScript&&(_Logger__WEBPACK_IMPORTED_MODULE_1__.vF.log("LiveRamp run script"),eval(liveRampScript))}catch(t){_Logger__WEBPACK_IMPORTED_MODULE_1__.vF.error("LiveRamp",t)}}))}))),enablePrebid&&enableIdentityHub&&identityHubPublisherId&&identityHubProfileId)return new Promise((t=>{_Logger__WEBPACK_IMPORTED_MODULE_1__.vF.log("PWT enable");let e=!1;const i=()=>{e||(e=!0,_Logger__WEBPACK_IMPORTED_MODULE_1__.vF.log("PWT resolve"),t())};window.PWT=window.PWT||{},window.PWT.jsLoaded=()=>{_Logger__WEBPACK_IMPORTED_MODULE_1__.vF.log("PWT PWT.jsLoaded"),location.hostname.match(/proxypy.org|printwhatyoulike.com/)||i()},setTimeout((()=>{_Logger__WEBPACK_IMPORTED_MODULE_1__.vF.log("PWT timeout"),i()}),500);const s=window.location.href;let n="";if(s.indexOf("pwtv=")>0){const t=/pwtv=(.*?)(&|$)/g.exec(s);t&&t.length>=2&&t[1].length>0&&(n="/"+t[1])}(0,_core_utils_util__WEBPACK_IMPORTED_MODULE_0__.nL)(!0,`//ads.pubmatic.com/AdServer/js/pwt/${identityHubPublisherId}/${identityHubProfileId}${n}/pwt.js`)}))}},326:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{T:()=>prebid});var _Logger__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(335),_core_utils_util__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(939),_config_prebid__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(292),_Gpt__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(554);class Prebid{constructor(){this.isCalled=!1,this.noAdUnits=!1,this.onFirstPrebidResponseEnded=null,this.adUnitsDict={},this.adUnitsCodeDict={},this.init=(configs,prebidSettings,siteId,parentAccountSiteDomain,prebidAnalyticsConfig,jsReadControlPromise)=>{this.noAdUnits=!1,this.prebidSettings=prebidSettings,this.configs=configs,this.siteId=siteId,this.parentAccountSiteDomain=parentAccountSiteDomain,this.isCalled||(this.isCalled=!0,jsReadControlPromise?jsReadControlPromise.then((()=>(0,_core_utils_util__WEBPACK_IMPORTED_MODULE_1__.nL)(!0,prebidSettings.prebidJsURL))):(0,_core_utils_util__WEBPACK_IMPORTED_MODULE_1__.nL)(!0,prebidSettings.prebidJsURL)),this.prebidSettings.prebidUseAtspbjs?this.pbjs=window.atspbjs=window.atspbjs||{que:[]}:this.pbjs=window.pbjs=window.pbjs||{que:[]};const intentIQ=prebidSettings.intentIQ;let p;if(intentIQ&&intentIQ.jsURL){const t=intentIQ.jsURL;delete intentIQ.jsURL,_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.log("setup IntentIQ"),p=new Promise((e=>{(0,_core_utils_util__WEBPACK_IMPORTED_MODULE_1__.nL)(!0,t,(()=>{const t={callback:t=>{_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.log("IntentIQ eids",t,this.iiq?.getIntentIqData()),e()},pbjs:this.pbjs,domainName:new URL(location.href).hostname,...intentIQ};_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.log("IntentIQ params",t),this.iiq=new window.IntentIqObject(t),googletag.cmd.push((()=>{try{googletag.pubads().setTargeting("intent_iq_group",this.iiq?.intentIqConfig.abTesting.currentTestGroup||"U")}catch(t){googletag.pubads().setTargeting("intent_iq_group","N")}}))}))}))}else p=Promise.resolve();this.pbjs.que.push((()=>{_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.log(this.prebidSettings.prebidUseAtspbjs?"atspbjs":"pbjs","Prebid.js",this.pbjs.version),this.prebidSettings.enableSchain&&this.setSchain(configs,!1),this.pbjs.aliasBidder("appnexus","dg"),this.pbjs.aliasBidder("appnexus","xandr"),this.pbjs.aliasBidder("microad","microad_wipe"),this.pbjs.bidderSettings=_config_prebid__WEBPACK_IMPORTED_MODULE_2__.L1;const adServerCurrency=this.prebidSettings?.prebidCurrency||"USD",prebidConfig=this.createPrebidConfig(adServerCurrency,this.prebidSettings);if(this.enableFledgeModule(),this.pbjs.setConfig(prebidConfig),this.configs.some((({settings:t})=>t.prebidAdUnits.some((({deviceSizes:t,atsPrebidAdUnits:e})=>(0,_core_utils_util__WEBPACK_IMPORTED_MODULE_1__.hg)(t)&&e.some((({bids:t})=>t.some((({bidder:t})=>"ias"===t))))))))&&(this.pbjs.bidderSettings.ias=_config_prebid__WEBPACK_IMPORTED_MODULE_2__.yN),this.prebidSettings?.prebidCustomScript)try{eval(this.prebidSettings.prebidCustomScript)}catch(t){_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.error("custom script for prebid",t)}this.prebidSettings.prebidUseAtspbjs&&this.modifyKeyValue(prebidConfig.priceGranularity),this.prebidSettings.enableAnalytics&&this.enableAnyMindPrebidAnalytics(prebidAnalyticsConfig.adUnitIdPathMapping,prebidAnalyticsConfig.amPrebidBidderMap,this.prebidSettings.analyticsSamplingRate,this.prebidSettings.ampaEndPoint)}));const adUnits=this.createParamaters(configs,!1);if(0===adUnits.length)return _Logger__WEBPACK_IMPORTED_MODULE_0__.vF.error("pbjs: no adunits"),void(this.noAdUnits=!0);const adUnitCodes=adUnits.map((t=>t.code));this.onFirstPrebidResponseEnded=p.then((()=>this.sendBids(adUnits,adUnitCodes)))},this.enableAnyMindPrebidAnalytics=(t,e,i,s)=>{this.pbjs.enableAnalytics([{provider:"anymind",options:{sampling:i,siteId:this.siteId,adUnitIdPathMappings:t,amPrebidBidderMap:e,endpoint:s}}])},this.enableFledgeModule=()=>{this.pbjs.setBidderConfig({bidders:_config_prebid__WEBPACK_IMPORTED_MODULE_2__.PI,config:{fledgeEnabled:!0,defaultForSlots:1}})},this.removeAdUnit=t=>{this.pbjs.removeAdUnit(t)},this.setTargeting=()=>{_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.log("pbjs: setTargeting for all"),this.pbjs.setTargetingForGPTAsync()},this.setTargetingForEachSlot=t=>{_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.log("pbjs: setTargeting for ",t),this.pbjs.setTargetingForGPTAsync(t)},this.buildVideoUrl=(t,e)=>{const i={adUnit:t,params:e};return this.pbjs.adServers.dfp.buildVideoUrl(i)},this.modifyKeyValue=t=>{var e,i,s;const n="object"==typeof t?"custom":t;(e=this.pbjs).bidderSettings??(e.bidderSettings={}),(i=this.pbjs.bidderSettings).standard??(i.standard={}),(s=this.pbjs.bidderSettings.standard).adserverTargeting??(s.adserverTargeting=[]),this.pbjs.bidderSettings.standard.adserverTargeting.push({key:"ats_hb_bidder",val:t=>t.bidderCode},{key:"hb_size",val:t=>t.size},{key:"hb_adid",val:t=>t.adId},{key:"hb_source",val:t=>t.source},{key:"hb_format",val:t=>t.mediaType},{key:"ats_hb_pb",val:t=>{switch(n){case"medium":default:return t.pbMg;case"high":return t.pbHg;case"custom":return t.pbCg}}},{key:"ats_hb_bid",val:()=>"true"},{key:"hb_uuid",val:t=>t.videoCacheKey}),this.pbjs.bidderSettings.standard.adserverTargeting=this.pbjs.bidderSettings.standard.adserverTargeting.filter(((t,e,i)=>i.findIndex((e=>e.key===t.key))===e))},this.createPrebidConfig=(adServerCurrency,prebidSetttings)=>{var _a;const config={enableTIDs:!0,debug:_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.enablePrebidLog,rubicon:{singleRequest:!0},criteo:{fastBidVersion:"latest"},enableSendAllBids:!1,...(()=>{try{if(prebidSetttings.prebidUserSyncScript)return{userSync:eval(prebidSetttings.prebidUserSyncScript)}}catch(t){_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.error("Prebid userSync Script",t)}})(),currency:{adServerCurrency,conversionRateFile:"https://cdn.jsdelivr.net/gh/prebid/currency-file@1/latest.json",defaultRates:_config_prebid__WEBPACK_IMPORTED_MODULE_2__.ap},priceGranularity:"medium",cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"},bidderTimeout:this.prebidSettings.prebidTimeout,fledgeForGpt:{enabled:!0,bidders:_config_prebid__WEBPACK_IMPORTED_MODULE_2__.PI,defaultForSlots:1}};if(this.prebidSettings.prebidVersion>=8&&(config.topics=_config_prebid__WEBPACK_IMPORTED_MODULE_2__.X1),0<prebidSetttings.userIds.length){config.userSync??(config.userSync={}),(_a=config.userSync).userIds??(_a.userIds=[]);const t=config.userSync.userIds;for(const e of prebidSetttings.userIds)t.some((t=>t.name===e.name))||t.push(e)}return"USD"===adServerCurrency?config.priceGranularity=_config_prebid__WEBPACK_IMPORTED_MODULE_2__.z1:("JPY"===adServerCurrency||(config.priceGranularity="high"),config.currency.granularityMultiplier=_config_prebid__WEBPACK_IMPORTED_MODULE_2__.ap.USD[adServerCurrency]),config},this.sendBids=(t,e)=>new Promise((i=>{const s=(0,_Gpt__WEBPACK_IMPORTED_MODULE_3__._7)((()=>{const t=this.pbjs.getHighestCpmBids()[0];if(_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.log("IntentIQ winningBid",t),t&&this.iiq){const e={biddingPlatformId:1,partnerAuctionId:t.auctionId,bidderCode:t.bidder,prebidAuctionId:t.auctionId,cpm:t.cpm,currency:t.currency||"USD",originalCpm:t.cpm,originalCurrency:t.originalCurrency||"USD",status:t.status||"rendered",placementId:t.adUnitCode};_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.table("IntentIQ reportData",e),this.iiq.reportExternalWin(e)}i(!0)}));this.pbjs.que.push((()=>{this.pbjs.addAdUnits(t),this.pbjs.requestBids({timeout:this.prebidSettings.prebidTimeout,adUnitCodes:e,bidsBackHandler:s})}))})),this.renderer=t=>({backupOnly:!0,url:t,render:t=>{_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.log(`execute OutStream Renderer ${t.bidderCode} ${t.mediaType}`),void 0!==t.ad&&null!==t.ad||void 0===t.vastUrl||null===t.vastUrl||(_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.log("Bid object contains bid.vastUrl with value: "+t.vastUrl),t.ad=t.vastUrl);const e={vastTimeout:5e3,maxAllowedVastTagRedirects:3,allowVpaid:!0,autoPlay:!1,preload:!0,mute:!0};t.width&&(e.width=t.width),t.height&&(e.height=t.height),t.renderer.push((()=>{try{window.outstreamPlayer&&window.outstreamPlayer.player(t,t.adUnitCode,e)}catch(t){_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.error(t),_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.log("Error in ad rendering!")}}))}}),this.createParamaters=(configs,force=!1)=>{const adUnits=[];for(const config of configs){if(!force&&!config.active&&!_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.isDev)continue;const{adUnitPath,prebidAdUnits}=config.settings;let divID=config.settings.divID;try{divID="Function"===config.settings.divIDType&&eval(divID)||divID}catch(t){_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.error("pbjs: The script to find the target failed.",t);continue}const _prebidAdUnits=[];for(const prebidAdUnit of prebidAdUnits)if((0,_core_utils_util__WEBPACK_IMPORTED_MODULE_1__.hg)(prebidAdUnit.deviceSizes)){for(const atsPrebidAdunit of prebidAdUnit.atsPrebidAdUnits){const adUnit={code:divID,bids:atsPrebidAdunit.bids.reduce(((accumulator,{bidder,params,script})=>{try{accumulator.push({bidder,params:script?eval(script):params})}catch(t){_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.error("[Error in Prebid params]",t)}return accumulator}),[]),mediaTypes:{},...(()=>{const t=config.settings.adUnitPath+(/^ats-insert_ads_flexible-\d+-\d+$/.test(divID)?`#${divID}`:"");return{ortb2Imp:{ext:{gpid:t,ae:1,data:{adserver:{name:"gam",adslot:t}}}}}})()};adUnit.bids.length<=0||((0,_core_utils_util__WEBPACK_IMPORTED_MODULE_1__.ze)(atsPrebidAdunit.mediaTypes.banner)||(adUnit.mediaTypes.banner=atsPrebidAdunit.mediaTypes.banner),(0,_core_utils_util__WEBPACK_IMPORTED_MODULE_1__.ze)(atsPrebidAdunit.mediaTypes.video)||(adUnit.mediaTypes.video=atsPrebidAdunit.mediaTypes.video,this.prebidSettings&&"outstream"===adUnit.mediaTypes.video?.context&&adUnit.bids.some((({bidder:t})=>_config_prebid__WEBPACK_IMPORTED_MODULE_2__.fX.some((({bidder:e,versions:i})=>e===t&&(!i||i.includes(this.prebidSettings.prebidVersion))))))&&(adUnit.mediaTypes.video.renderer=this.renderer(this.prebidSettings.rendererJsURL))),(0,_core_utils_util__WEBPACK_IMPORTED_MODULE_1__.ze)(atsPrebidAdunit.mediaTypes.native)||(adUnit.mediaTypes.native=atsPrebidAdunit.mediaTypes.native),adUnits.push(adUnit),_prebidAdUnits.push(adUnit))}this.adUnitsDict[adUnitPath]={prebidAdUnits:_prebidAdUnits,code:divID},this.adUnitsCodeDict[divID]={prebidAdUnits:_prebidAdUnits,adUnitPath};break}}return _Logger__WEBPACK_IMPORTED_MODULE_0__.vF.log("pbjs: adUnits",adUnits),_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.log("pbjs: adunits dict",this.adUnitsDict),adUnits},this.setSchain=(t,e=!1)=>{this.pbjs.que.push((()=>{const i=new Set;if(t.forEach((t=>{e||!t.active&&!_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.isDev||t.settings.prebidAdUnits.forEach((t=>{t.atsPrebidAdUnits.forEach((({bids:e})=>{e.forEach((e=>{e.includeSchain&&(0,_core_utils_util__WEBPACK_IMPORTED_MODULE_1__.hg)(t.deviceSizes)&&i.add(e.bidder)}))}))}))})),i.size>0){const t=[];i.forEach((e=>t.push(e))),this.pbjs.setBidderConfig({bidders:t,config:{schain:{validation:"relaxed",config:{ver:"1.0",complete:1,nodes:[{asi:this.parentAccountSiteDomain,sid:`${this.prebidSettings.sellerId}`,hp:1}]}}}})}}))},this.reset=()=>{try{this.pbjs&&this.pbjs.que.push((()=>{this.pbjs.removeAdUnit()})),this.onFirstPrebidResponseEnded=null,this.configs=[],this.noAdUnits=!1;for(const t in this.adUnitsDict)delete this.adUnitsDict[t]}catch(t){_Logger__WEBPACK_IMPORTED_MODULE_0__.vF.error(t)}}}}const prebid=new Prebid},332:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{p:()=>SiteSettings});var _Gpt__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(554),_Logger__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(335),_Apm__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(139),_Adloox__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(69),_core_utils_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(939);const GPT_URL="https://securepubads.g.doubleclick.net/tag/js/gpt.js";class SiteSettings{constructor(config,jsReadControlPromise){this.config=config,this.countryKeywordsJson={},this.init=(t,e,i,s)=>{const{enableBasicSetTargetings:n,enableGamLazyload:o,enableGamSingleRequest:r,enableCollapseEmptyDivs:a,enableApm:d,apmNetworkId:l,apmSiteId:_}=this.config;n&&_Gpt__WEBPACK_IMPORTED_MODULE_0__.Um.executeBasicTargetings(),!(0,_core_utils_util__WEBPACK_IMPORTED_MODULE_4__.ze)(o)&&_Gpt__WEBPACK_IMPORTED_MODULE_0__.Um.enableGamLazyload(o),a&&_Gpt__WEBPACK_IMPORTED_MODULE_0__.Um.collapseEmptyDivs(),t&&_Gpt__WEBPACK_IMPORTED_MODULE_0__.Um.disableInitialLoad(),(r||t)&&(_Gpt__WEBPACK_IMPORTED_MODULE_0__.Um.defineATSSlotsForSRA(i,s),_Gpt__WEBPACK_IMPORTED_MODULE_0__.Um.enableSingleRequest()),_Gpt__WEBPACK_IMPORTED_MODULE_0__.Um.enableServices(),d&&(_Apm__WEBPACK_IMPORTED_MODULE_2__.rG.insertSasScript(l),_Apm__WEBPACK_IMPORTED_MODULE_2__.rG.setUpAndCall(l,_,e))},this.fetchKeywordJson=async t=>"countryKeywordsJsonUrl"in this.config.keywordsBlock&&"string"==typeof this.config.keywordsBlock.countryKeywordsJsonUrl&&fetch(this.config.keywordsBlock.countryKeywordsJsonUrl,{mode:"cors",method:"GET",headers:{"Content-Type":"application/json"}}).then((t=>t.json())).then((e=>(this.countryKeywordsJson=e,this.callKeywordBlocks(t))),(t=>(_Logger__WEBPACK_IMPORTED_MODULE_1__.vF.error(t),!1))),this.callKeywordBlocks=async t=>("loading"===document.readyState&&await new Promise((t=>{const e=()=>{document.removeEventListener("DOMContentLoaded",e),t()};document.addEventListener("DOMContentLoaded",e)})),this.keywordsBlock(t)),this.isMatchedWithRegex=(t,e)=>{if(0===e.length)return _Logger__WEBPACK_IMPORTED_MODULE_1__.vF.log("no keywords"),!1;const i=e.map((t=>(["\\","*","+",".","?","{","}","(",")","[","]","^","$","|"].forEach((e=>{t=t.replace(e,`\\${e}`)})),t))).join("|"),s=new RegExp(i);return s.test(t)?(_Logger__WEBPACK_IMPORTED_MODULE_1__.vF.log("block by keyword"),_Logger__WEBPACK_IMPORTED_MODULE_1__.vF.log(t.match(s)),!0):(_Logger__WEBPACK_IMPORTED_MODULE_1__.vF.log("regex unblock"),!1)},this.keywordsBlock=async(t=document)=>{if(!("keywordsContainers"in this.config.keywordsBlock))return!1;const{keywordsContainers:e,keywords:i=[],keywordsCountry:s=[]}=this.config.keywordsBlock;s.length>0&&s.forEach((t=>{this.countryKeywordsJson[t]&&this.countryKeywordsJson[t].forEach((t=>i.push(t.toLowerCase())))})),_Logger__WEBPACK_IMPORTED_MODULE_1__.vF.log("keywords for block: ",i);const n=e.length>0?e.map((e=>t.querySelector(e)?.innerText||"")).join(" "):"innerText"in t?t.innerText:t.body.innerText;return this.isMatchedWithRegex(n.toLowerCase(),i)},this.browsersBlock=()=>{if(this.config.browsersBlock)for(const fnc of this.config.browsersBlock)try{if(eval(`(${fnc})(navigator.userAgent)`))return!0}catch(t){_Logger__WEBPACK_IMPORTED_MODULE_1__.vF.error("browsersBlock script",t)}return!1},this.dispose=()=>{};const{enableAdloox,adlooxRequestRatio,enableGptScript}=config;_Adloox__WEBPACK_IMPORTED_MODULE_3__.K.init(enableAdloox,adlooxRequestRatio),enableGptScript&&(jsReadControlPromise?jsReadControlPromise.then((()=>{(0,_core_utils_util__WEBPACK_IMPORTED_MODULE_4__.nL)(!0,GPT_URL)})):(0,_core_utils_util__WEBPACK_IMPORTED_MODULE_4__.nL)(!0,GPT_URL))}}},840:(t,e,i)=>{i.d(e,{M:()=>o});var s=i(554),n=i(335);const o=new class{constructor(){this.isCalled=!1,this.config=null,this.execute=t=>{this.config=t,!this.isCalled&&this.config?(s.Um.callOutOfPageSlotWrapper(this.config),this.isCalled=!0):n.vF.error("adx inst must be called once")},this.dispose=()=>{this.isCalled=!1}}}},404:(t,e,i)=>{i.d(e,{m:()=>o});var s=i(554),n=i(335);const o=new class{constructor(){this.isCalled=!1,this.config=null,this.execute=t=>{this.config=t,!this.isCalled&&this.config?(s.Um.callOutOfPageSlotWrapper(this.config),this.isCalled=!0):n.vF.error("adx overlay must be called once")},this.dispose=()=>{this.isCalled=!1}}}},599:(t,e,i)=>{i.d(e,{x:()=>a});var s=i(554),n=i(139),o=i(472),r=i(335);class a{constructor(t,e,i,s){this.config=t,this.AD_NAME=e,this.instanceCount=i,this.adType=s,this.RENDERED="rendered",this.UNRENDERED="unrendered",this.NOT_DISPLAYED="not-displayed",this.SHOW_ADVERTISEMENT="show_advertisement",this.ENABLE_STICKY="enable_sticky",this.ABSOLUTE="absolute",this.STICKY="sticky",this.ADVERTISEMENT_TEXT="ADVERTISEMENT",this.slots={},this.infinite=!1,this.CLASS_NAME="",this.execute=async(t,e)=>{this.config.useFunctionTrigger&&this.config.functionTrigger&&(r.vF.log("use functionTrigger:"+this.config.adUnitPath),await o.O.waitForConditionMet(t||document,this.instanceCount,this.config.functionTrigger,this.config.adUnitPath));const i=this._execute(t,e),s=this._findTarget(i);if(null===s)return;s.map((t=>{const e=this._buildSlot(t,i);return null!==e&&(this.config.formatId?this.slots[e].slot.id=n.jC.sasDivIdPrefix+this.config.formatId:this.slots[e].slot.id=e),{divId:e,target:t}})).forEach((t=>{if(null!==t.divId)if(this.config.formatId){const t=this.config.formatId;n.rG.render(t)}else{const e=this._getFetchAdConfig(t.divId,t.target,this.infinite);this.gptFetchAd(e.gpt)}}))},this.makeReplaceAdSenseParams=()=>({adSenseReplacementClient:this.config.adSenseReplacementClient,adSenseReplacementSlot:this.config.adSenseReplacementSlot}),this._init(),this._addStyle()}async gptFetchAd(t){let e=t.divId;const i=document.getElementById(e),n=[t.adUnitPath,...this.config.autoAdUnitPaths||[]];if(1==n.length)await s.Um.fetchAd(t);else{const o=t.onAfterGptFetched,a=t.onAfterGptRendered;let d=i;for(const l of n){const n=await new Promise((i=>{const n={...t,adUnitPath:l,divId:d.id,onAfterGptFetched:t=>{r.vF.log("fake onAfterGptFetched",t)},onAfterGptRendered:t=>{r.vF.log("fake onAfterGptRendered",t),i(t)}};r.vF.log("div.id",d.id,"divId",e,"adUnitPath",n.adUnitPath,"config",n),s.Um.fetchAd(n)}));if(!n.isEmpty){o(n.slot),a(n);break}d.style.display="none",d=document.createElement("div"),d.id=e+="-a",i.parentNode?.appendChild(d)}}}}},456:(t,e,i)=>{i.d(e,{W:()=>l});var s=i(939),n=i(599),o=i(335),r=i(554),a=i(8);const d="2147483647";class l extends n.x{constructor(t,e){super(t,"insert_ads",e,"insert_ads"),this.executeCallCount=0,this.requestAnimationFrameId=0,this.currentNumOfAds=0,this._execute=(t,e=!1)=>(this.infinite=e,this.executeCallCount++,this.currentNumOfAds=0,t),this.choosePositions=t=>{let e=this.config.selector;"Function"===this.config.targetType&&(e=(0,s.ab)(t).join(">"));const i=this.config.targetFirstLevelOnly?this.config.selectors.map((t=>`${e}>${t}`)).join(","):this.config.selectors.join(",");let n=Array.prototype.map.call(t.querySelectorAll(i),(t=>t));if(this.config.exclusiveSelectors&&0<this.config.exclusiveSelectors.length){const t=this.config.exclusiveSelectors.map((t=>`${t}+*`)).join(",");n=n.filter((e=>!e.matches(t)))}return n},this.selectPositions=(t,e)=>{const i=window.innerHeight,s=t.getBoundingClientRect(),n=s.top+window.pageYOffset,r=s.bottom+window.pageYOffset;if(s.height<i)return o.vF.error("i flex: no enough area"),[];let a=0;return e.filter((t=>{const e=t.getBoundingClientRect(),s=e.top+window.pageYOffset,d=e.bottom+window.pageYOffset;return!(s-n<i/2||r-d<i/2)&&(i*this.config.spacing<d-a&&(o.vF.log("i flex: spacing","config",this.config.spacing,"actually",(d-a)/i),a=d,!0))}))},this._findTarget=t=>{const{selector:e,targetType:i,isFlexible:n}=this.config,r=(0,s.EW)(t,e,i);if(null==r)return null;const a=[],d=[];if(n?(a.push(...this.choosePositions(r)),d.push(...this.selectPositions(r,a))):(a.push(r),d.push(r)),o.vF.enableLog)for(let t=0;t<a.length;t++)a[t].insertAdjacentHTML("beforebegin",`<div class="${this.AD_NAME}-debug"><p>${t}</p></div>`);return d.length<=0?(o.vF.error("i flex: no position"),null):d},this._buildSlot=(t,e)=>{const{showAdvertisement:i,customShowAdsText:s,insertPosition:n="afterbegin",isFlexible:o,divIDs:r}=this.config;if(this.currentNumOfAds++,this.currentNumOfAds>this.config.numOfAds)return null;const a=r[this.currentNumOfAds-1]+(this.infinite?`-${this.executeCallCount}`:""),d=document.createElement("div"),l=document.createElement("p"),_=document.createTextNode(s||this.ADVERTISEMENT_TEXT);l.appendChild(_);const c=document.createElement("div");c.classList.add("ats-slot"),d.appendChild(l),d.appendChild(c);const h=document.createElement("div"),p=`${a}-wrapper`;h.id=p,h.classList.add(this.AD_NAME,this.CLASS_NAME),i&&h.classList.add(this.SHOW_ADVERTISEMENT),h.appendChild(d);const g=o?"beforebegin":n;return t.insertAdjacentElement(g,h),this.slots[a]={baseElement:e,adUnitPath:this.config.adUnitPath,divId:a,slotWrapper:h,slot:c,isGPTRefreshCalled:!1,shouldStopRefresh:!1,...this.makeReplaceAdSenseParams()},a},this._getFetchAdConfig=(t,e,i)=>{const{setCollapseEmptyDiv:s,sizeMappingGroup:n,setTargetingConfigs:o,enableLazyLoad:r,lazyLoadConfig:a,lazyLoadMode:d,enableSetForceSafeFrameForSlot:l}=this.config,_=this.slots[t];return{gpt:{slotWrapperDiv:_.slotWrapper,instanceCount:this.instanceCount,adUnitPath:_.adUnitPath,sizes:[[300,250]],divId:_.divId,setCollapseEmptyDiv:s,sizeMappingGroup:n,setTargetingConfigs:o,onAfterGptRendered:this._onAfterGptRendered(t),onAfterGptFetched:this._onAfterGptFetched(t),enableSetForceSafeFrameForSlot:l,enableLazyLoad:r,lazyLoadConfig:a,lazyLoadMode:d,infinite:i}}},this._onAfterGptFetched=t=>e=>{const i=this.slots[t];i.googletagSlot=e,i.dispose=()=>{i.shouldStopRefresh=!0,googletag.destroySlots([e]),i.slotWrapper.remove()}},this._onAfterGptRendered=t=>e=>{const{isFlexible:i,isSticky:s,refreshInterval:n,refreshLimit:o,inViewRate:a,setTargetingConfigs:d}=this.config,l=this.slots[t];n>0&&!1===l.isGPTRefreshCalled&&r.Um.intervalRefreshAds([e.slot],n,o,t,this.slots,a,d),e.slot===l.googletagSlot&&(e.isEmpty?l.slotWrapper.classList.add(this.UNRENDERED):(l.eventSize=Array.isArray(e.size)?[e.size[0],e.size[1]]:[0,0],l.slotWrapper.classList.add(this.RENDERED),!i&&s&&(this.initializeStyle(l.slotWrapper),this.handleSticky(l))))},this.handleSticky=t=>{if(!t.baseElement)return;const{slotWrapper:e,eventSize:i}=t,{stickyStopTarget:n,stickyStopTargetType:r,stickySizes:a,overrideMargin:d=!1,overrideMarginBottom:l=0,overrideMarginTop:_=0}=this.config,[c]=t.eventSize||[0],h=e.children[0],p=window.getComputedStyle(h),g=e.offsetHeight,{marginTop:u,marginBottom:E,marginLeft:f}=p,m=parseFloat(u)||0,b=parseFloat(E)||0,A=parseFloat(f)||0,v=d?_:parseFloat(u)||0,D=d?l:parseFloat(E)||0,y=(()=>{let t=!1;if(a&&a.length>0)for(let e=0;e<a.length;e++){const s=a[e];if(i&&i[0]===s[0]&&i[1]===s[1]){t=!0;break}}else t=!0;return t})();let P;if(y&&(e.style.height=`${g}px`,e.style.marginTop=`${m}px`,e.style.marginBottom=`${b}px`),n&&!P)try{P=(0,s.EW)(t.baseElement,n,r)}catch(t){o.vF.error(t)}let C=!1;const M=()=>{C||(C=!0,y?t.requestAnimationFrameId=window.requestAnimationFrame((()=>{this.handleScroll(c,A,v,D,g,t,h,P),C=!1})):(C=!0,t.requestAnimationFrameId&&window.cancelAnimationFrame(t.requestAnimationFrameId)))};e.classList.contains(this.ENABLE_STICKY)||(window.addEventListener("scroll",M),t.removeScrollEventListener=()=>{window.cancelAnimationFrame(this.requestAnimationFrameId),window.removeEventListener("scroll",M)},e.classList.add(this.ENABLE_STICKY))},this.handleScroll=(t,e,i,s,n,o,r,a)=>{const{slotWrapper:d}=o,{overrideMargin:l=!1,overrideMarginBottom:_=0,overrideMarginTop:c=0}=this.config;d.classList.remove(this.STICKY,this.ABSOLUTE),r.style.top="",r.style.marginLeft="";const h=(r.offsetWidth-t)/2+e,p=a?a.getBoundingClientRect().top:document.body.getBoundingClientRect().bottom,g=a?a.offsetTop:p+window.pageYOffset,u=d.getBoundingClientRect(),E=0<u.top-i,f=p-n-i-s<0,m=u.top-i<=0,b=g-n-i-s;E?(d.classList.remove(this.ABSOLUTE,this.STICKY),r.style.top="",r.style.marginLeft="",l&&(r.style.marginTop="",r.style.marginBottom="")):f?(d.classList.remove(this.STICKY),d.classList.add(this.ABSOLUTE),r.style.top=`${b}px`,r.style.marginLeft=`${h}px`):m&&(d.classList.remove(this.ABSOLUTE),d.classList.add(this.STICKY),r.style.top="",l&&(r.style.marginTop=`${c}px`,r.style.marginBottom=`${_}px`),r.style.marginLeft=`${h}px`)},this.initializeStyle=t=>{const e=t.children[0];t.classList.remove(this.ENABLE_STICKY),t.classList.remove(this.ABSOLUTE),t.classList.remove(this.STICKY),t.style.height="",e.style.marginLeft="",e.style.marginTop="",e.style.marginBottom=""},this.dispose=()=>{try{o.vF.log("i: dispose");for(const t in this.slots){const e=this.slots[t];e.removeScrollEventListener&&e.removeScrollEventListener(),e.dispose&&e.dispose(),delete this.slots[t]}}catch(t){o.vF.error(t)}},a.A.createAdObserver(this.config,this)}_init(){this.CLASS_NAME=`${this.AD_NAME}-${this.instanceCount}`}_addStyle(){(0,s.TD)([`div.${this.AD_NAME}.${this.UNRENDERED},`,`div.${this.AD_NAME}.${this.UNRENDERED} > div,`,`div.${this.AD_NAME}.${this.UNRENDERED} > div > div,`,`div.${this.AD_NAME}.${this.UNRENDERED} > div > div > div,`,`div.${this.AD_NAME}.${this.UNRENDERED} > div > div > div > iframe {`,"height: 1px;","}",`div.${this.AD_NAME},`,`div.${this.AD_NAME} > div,`,`div.${this.AD_NAME} > div > div,`,`div.${this.AD_NAME} > div > div > div,`,`div.${this.AD_NAME} > div > div > div > iframe {`,"text-align: center;","}",`div.${this.AD_NAME}.${this.RENDERED}.${this.SHOW_ADVERTISEMENT} > div > p {`,"color: #8a9299;","font-size: 10px;","margin-bottom: 3px;","margin-top: 3px;","text-transform: uppercase;","text-align: center;","}",`div.${this.AD_NAME}:not(.${this.RENDERED}) > div > p,`,`div.${this.AD_NAME}:not(.${this.SHOW_ADVERTISEMENT}) > div > p {`,"display: none;","}",`div.${this.AD_NAME}.${this.RENDERED}.${this.ENABLE_STICKY}.${this.ABSOLUTE} > div {`,"position: absolute;",`z-index: ${d};`,"}",`div.${this.AD_NAME}.${this.RENDERED}.${this.ENABLE_STICKY}.${this.STICKY} > div {`,"position: fixed;",`z-index: ${d};`,"top: 0px;","}"].join("")+(o.vF.enableLog?[`div.${this.AD_NAME}-debug {`,"height: 1px;","margin: 0 auto;","padding: 0;","position: relative;","}",`div.${this.AD_NAME}-debug > p {`,"background-color: rgba(225, 0, 80, 0.5);","color: #212121;","font-size: 7px;","height: 16px;","margin: 0 auto;","text-align: center;","top: 0;","width: 16px;","}"].join(""):""),this.AD_NAME),(0,s.TD)([`div.${this.CLASS_NAME}.${this.AD_NAME} > div {`,this.config.customCss,"}",`div.${this.CLASS_NAME}.${this.AD_NAME}.${this.RENDERED}.${this.SHOW_ADVERTISEMENT} > div {`,this.config.customCssForShowAdvertisement,"}"].join("")+(this.config.isSticky?[`div.${this.CLASS_NAME}.${this.AD_NAME}.${this.RENDERED}.${this.ENABLE_STICKY}.${this.ABSOLUTE} > div {`,"background-color: inherit;","}",`div.${this.CLASS_NAME}.${this.AD_NAME}.${this.RENDERED}.${this.ENABLE_STICKY}.${this.STICKY} > div {`,"top: 0px;","background-color: inherit;","}"].join(""):""),this.CLASS_NAME)}}},389:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{b:()=>InsertVideoAds});var _core_utils_util__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(939),_Prebid__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(326),_Logger__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(335),_Gpt__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(554),_VideoManager__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(561);const Z_INDEX_MAX_VALUE="2147483647",defaultSizes169=[[640,360],[320,180]],defaultSizes43=[[640,480],[480,360],[320,240]],defaultSizes916=[[360,640],[180,320]],defaultSizes34=[[480,640],[360,480],[240,320]],defaultSizes11=[[300,300],[250,250]];class VjsLogger{constructor(t=_Logger__WEBPACK_IMPORTED_MODULE_2__.vF){this.logger=t,this.log=(...t)=>{this.logger.log("ats-vjs:",...t)},this.error=(...t)=>{this.logger.error("ats-vjs:",...t)}}}const vjsLogger=new VjsLogger;class InsertVideoAds{constructor(config){this.config=config,this.RENDERED="rendered",this.HIDE="hide",this.executeCallCount=0,this.infinite=!1,this.divId="",this.closeButtonId="",this.wrapperClassName="ats-insert-video-wrapper",this.divClassName="ats-insert-video",this.closeButton=document.createElement("button"),this.wrapperId="",this.originVideoWidth=0,this.originVideoHeight=0,this.videoStickyWrapperId="ats-insert-video-sticky-wrapper",this.initialPlay=!1,this.stickyOrAnchoring=!1,this.observer=null,this.anchoringClass="",this.topStickyClass=this.wrapperClassName+"-top-sticky",this.poster="",this.deviceType=(0,_core_utils_util__WEBPACK_IMPORTED_MODULE_0__.gE)(),this.isPlaying=!1,this.isFirstPlay=!1,this.testUrl=window.sessionStorage.getItem("ats_test_video_url")||"",this.testAdTagUrl=window.sessionStorage.getItem("ats_test_ad_tag_url")||"",this.MAX_RETRY=30,this.counter_retry=1,this.REFRESH_INTERVAL=32e3,this.rssArticleLinkId="rss-article-link",this.topStickyCloseButton=document.createElement("a"),this.topStickyCloseButtonId="top-sticky-close-button",this.showTopStickyVideoCloseButton=!1,this.rssFeedArticles=[],this.scrollCallbacks=[],this.onceInView=!1,this.autoplayInNext=!1,this.autoAdUnitPaths=[],this.videoLoadingCount=0,this.userStopAnchor=!1,this.anchorCallbackWhenAdLoaded=null,this.showCloseButton=!1,this.videoLength=0,this.isAdPlaying=!1,this.isAdPaused=!1,this.adDisplayContainerInitialized=!1,this.allAdsCompleted=!1,this.contentEnded=!1,this.hlsConfig={maxBufferLength:5,maxMaxBufferLength:10,backBufferLength:1/0,maxBufferSize:2e5,maxBufferHole:.5,highBufferWatchdogPeriod:2},this.onAdEvent=t=>e=>{this.counter_retry=1;const i=window.google;if(vjsLogger.log(`ads event: ${e.type}`),e.type==i.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED)this.player.pause(),this.showAdDisplayContainer(),this.isAdPlaying=!0,this.rssArticleLink&&(this.rssArticleLink.style.display="none");else if(e.type==i.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED)this.hideAdDisplayContainer(),this.isAdPaused=!1,this.isAdPlaying=!1,this.contentEnded||(this.play(),this.rssArticleLink&&(this.rssArticleLink.style.display="block"));else if(e.type==i.ima.AdEvent.Type.AD_BREAK_READY)vjsLogger.log("ad break ready");else if(e.type==i.ima.AdEvent.Type.STARTED){if(vjsLogger.log("ad started"),this.showImaControlBar(),this.currentAd=e.getAd(),this.currentAd.isLinear()&&(this.countdownTimer=setInterval(this.trackLinearAd,250)),this.adMuteButton=document.querySelector("#ats-ad-container button.plyr__control[data-plyr='mute']"),this.adsManager.getVolume()>0?this.adMuteButton.classList.add("plyr__control--not-pressed"):this.adMuteButton.classList.add("plyr__control--pressed"),this.adMuteButton.addEventListener("click",this.onAdMuteClick),this.userStopAnchor){let t=!1;this.anchorCallback();const e=()=>{t||(window.requestAnimationFrame((()=>{this.anchorCallback(),t=!1})),t=!0)};document.addEventListener("scroll",e),this.scrollCallbacks.push(e),this.anchorCallbackWhenAdLoaded=e,this.closeButton.addEventListener("click",(()=>{document.removeEventListener("scroll",e),this.stopElmAnchoring()}))}}else if(e.type==i.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED){const t=e.ad.data.skippable?e.ad.data.skipTimeOffset:0;vjsLogger.log(t),t>0&&(this.showCloseButton=!0,this.stickyOrAnchoring&&(this.closeButton.style.visibility="visible"))}else e.type==i.ima.AdEvent.Type.LOADED?e.getAd().isLinear()?vjsLogger.log("linear ads"):vjsLogger.log("non linear ads"):e.type!=i.ima.AdEvent.Type.ALL_ADS_COMPLETED&&e.type!=i.ima.AdEvent.Type.USER_CLOSE&&e.type!=i.ima.AdEvent.Type.COMPLETE&&e.type!=i.ima.AdEvent.Type.SKIPPED&&e.type!=i.ima.AdErrorEvent.Type.AD_ERROR||(this.hideImaControlBar(),this.initAdUIElement(),vjsLogger.log("ads finish or error event type: ",e.type),clearInterval(this.countdownTimer),this.isAdPlaying=!1,this.isAdPaused=!1,this.showCloseButton=!1,this.userStopAnchor&&this.anchorCallbackWhenAdLoaded&&(document.removeEventListener("scroll",this.anchorCallbackWhenAdLoaded),this.anchorCallbackWhenAdLoaded=null,this.stopElmAnchoring()));if(e.type===i.ima.AdEvent.Type.ALL_ADS_COMPLETED||e.type==i.ima.AdErrorEvent.Type.AD_ERROR){this.hideAdDisplayContainer(),vjsLogger.log(e),this.resizeObserver?.disconnect(),this.adsManager.destroy();const i=this.videoLoadingCount;vjsLogger.log("call ads after 30 sec"),setTimeout((()=>{this.refreshAds(t,i)}),this.REFRESH_INTERVAL),this.isPlaying=!0,this.allAdsCompleted=!0}if(e.type==i.ima.AdEvent.Type.LOG){const t=e.getAdData();t.adError&&vjsLogger.error("Non-fatal error occurred: "+t.adError.getMessage())}},this.execute=async(t,e=!1)=>{this.videoLoadingCount+=1,this.infinite=e,this.executeCallCount++,await _VideoManager__WEBPACK_IMPORTED_MODULE_4__.f.insertVideoTag();const i=this.findTarget(t);i&&(await _Gpt__WEBPACK_IMPORTED_MODULE_3__.Um.setPPIDPromise,this.buildVideo(i)),this.workaroundForBFCache()},this.workaroundForBFCache=()=>{const t=e=>{e.persisted&&(this.dispose(),vjsLogger.log("persisted"),window.removeEventListener("pageshow",t),this.execute(document))};window.addEventListener("pageshow",t)},this.findTarget=t=>{const{selector:e,targetType:i}=this.config,s=(0,_core_utils_util__WEBPACK_IMPORTED_MODULE_0__.EW)(t,e,i);if(null!=s)return s},this.applyInsertVideoCss=()=>{(0,_core_utils_util__WEBPACK_IMPORTED_MODULE_0__.TD)(`\n        #ats-ad-container * {\n            margin: 0;\n        }\n        #${this.divId} {\n            margin: 0 auto;\n        }\n        \n        .ats-insert-video-wrapper {\n          position: relative\n        }\n        \n        .ats-insert-video-wrapper * {\n            box-shadow: none;\n        }\n        \n        #${this.rssArticleLinkId} {\n          background-color: #3892E5;\n          color: white;\n          display: block;\n          padding: 6px 32px 6px 20px;\n          position: absolute;\n          top: 20px;\n          right: 25px;\n          text-align: center;\n          text-decoration:none;\n          visibility: hidden;\n          border: 2px solid transparent;\n          border-radius: 5px;\n          font-size: small;\n          z-index: 999 !important\n        }\n\n        #${this.rssArticleLinkId}::after {\n          content: ' ';\n          position: absolute;\n          top: 10px;\n          right: 16px;\n          display: block;\n          width: 3px;\n          height: 3px;\n          border: solid #FFF;\n          border-width: 0 2px 2px 0;\n          padding: 2px;\n          transform: rotate(-45deg);\n          -webkit-transform: rotate(-45deg);\n        }\n        .${this.wrapperClassName}-anchoring #${this.rssArticleLinkId} {\n          padding: 3px 14px 3px 6px;\n          top: 5px;\n          right: 5px;\n          max-width: 125px;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n        }\n        .${this.wrapperClassName}-anchoring #${this.rssArticleLinkId}::after {\n          top: 6px;\n          right: 6px;\n        }\n        @media only screen and (max-width: 600px) {\n          #${this.rssArticleLinkId} {\n            padding: 6px 22px 6px 10px;\n            top: 10px;\n            right: 10px;\n          }\n          #${this.rssArticleLinkId}::after {\n            right: 12px;\n          }\n          \n          .${this.wrapperClassName}-anchoring #${this.rssArticleLinkId} {\n            font-size: 11px;\n          }\n          .${this.wrapperClassName}-anchoring #${this.rssArticleLinkId}::after {\n            top: 5px;\n            border-width: 0 1px 1px 0;\n            width: 3px;\n            height: 3px\n          }\n        }\n        \n        .${this.wrapperClassName}-anchoring {\n            z-index: ${Z_INDEX_MAX_VALUE};\n        }\n        .${this.wrapperClassName}-non-anchoring {\n            z-index: ${Z_INDEX_MAX_VALUE};\n        }\n        .${this.wrapperClassName}-right {\n            position: fixed;\n            bottom: 16px;\n            right: 16px;\n            width: 256px;\n        }\n        .${this.wrapperClassName}-left {\n            position: fixed;\n            bottom: 16px;\n            left: 16px;\n            width: 256px;\n        }\n        .${this.topStickyClass} {\n            z-index: ${Z_INDEX_MAX_VALUE};\n            position: fixed;\n            top: 0;\n        }\n        .${this.wrapperClassName} {\n            background-color: rgba(57, 127, 195, .1);\n        }\n        #${this.topStickyCloseButtonId} {\n            visibility: hidden;\n            position: absolute;\n            display: block;\n            top: 0px;\n            right: -24px;\n            width: 24px;\n            height: 34px;\n            border: 0px !important;\n            border-radius: 0 7px 7px 0;\n            text-align: center;\n            background: #00000066;\n        }\n        #${this.closeButtonId} {\n            visibility: hidden;\n            position: absolute;\n            right: 0px;\n            display: block;\n            top: -24px;\n            width: 34px;\n            height: 24px;\n            border: 0px !important;\n            border-radius: 7px 7px 0 0;\n            text-align: center;\n            background: #00000066;\n        }\n        #${this.closeButtonId}::after, \n        #${this.closeButtonId}::before, \n        #${this.topStickyCloseButtonId}::after, \n        #${this.topStickyCloseButtonId}::before {\n              content: "";\n              position: absolute;\n              top: 50%;\n              left: 50%;\n              width: 2px;\n              height: 15px;\n              background: #fff; \n        }\n        #${this.closeButtonId}::before,\n        #${this.topStickyCloseButtonId}::before {\n          transform: translate(-50%,-50%) rotate(45deg);\n        }\n        #${this.closeButtonId}::after,\n        #${this.topStickyCloseButtonId}::after {\n          transform: translate(-50%,-50%) rotate(-45deg);\n        }\n        #ats-ad-container {\n            position: absolute;\n            z-index: 1111;\n            display: none;\n            height: 100%;\n            top: 0;\n            width: 100%;\n        }\n        #${this.videoStickyWrapperId} .plyr__volume input[type=range] {\n            max-width: 60px;\n            min-width: 45px;\n        }\n        #${this.videoStickyWrapperId} .plyr {\n            display: none;\n        }\n        #${this.videoStickyWrapperId}{\n            --plyr-color-main: rgba(0,0,0,0.3);\n        }\n        .plyr--full-ui input[type=range] {\n            --plyr-color-main: red;\n        }\n        div.plyr > button.plyr__control[data-plyr='play'] svg {\n            --plyr-control-icon-size: 32px;\n        }\n        #${this.videoStickyWrapperId} .plyr .plyr__controls {\n            padding-top: calc(var(--plyr-control-spacing, 10px)* 1);\n            --plyr-control-spacing: 8px;\n        }\n        .plyr__control svg {\n            --plyr-control-icon-size: 14px;\n        }\n        #${this.videoStickyWrapperId} .plyr__time--current{\n            font-family: sans-serif;\n            --plyr-font-size-time: 12px;\n        }\n        .ats-ima-control-play {\n            width: 30px;\n            height: 10px;\n            background-color: red;\n        }\n        .plyr__control--overlaid, .plyr__control {\n            transition: none;\n        }\n        .ats-ima-control-bar.plyr__controls {\n            border-bottom-left-radius: inherit;\n            border-bottom-right-radius: inherit;\n            bottom: 0;\n            color: #fff;\n            color: var(--plyr-video-control-color, #fff);\n            left: 0;\n            position: absolute;\n            right: 0;\n            transition: opacity .4s ease-in-out, transform .4s ease-in-out;\n            z-index: 3;\n            flex-direction: column;\n            display: block;\n        }\n        #ats_ads_progress_bar {\n            position: relative;\n            width: 100%;\n            height: 4px;\n            background-color: rgba(0, 0, 0, 0.5);\n        }\n        #ats_ads_progress_bar-progress {\n            position: relative;\n            width: 0%;\n            height: 100%;\n            background-color: yellow;\n        }\n        #ads_countdown {\n            font-family: sans-serif;\n            font-size: 11px;\n            padding: 3px 2px;\n            min-width: 48px;\n            text-align: left;\n        }\n        #ats-ad-container button[data-plyr='mute']{\n            --plyr-control-spacing: 3px;\n            padding-left: 10px;\n            padding-right: 10px;\n        }\n        button[data-plyr='play'].ats-ima-control{\n            --plyr-control-spacing: 7px;\n            padding-left: 8px;\n        }\n        .plyr__progress .plyr__tooltip{\n            font-family: sans-serif;\n        }\n        .ats-ima-control-container {\n            display: flex;\n            align-items: center;\n            position: absolute;\n            top: -24px;\n            background-color: rgba(0, 0, 0, 0.9);\n            height: 24px;\n        }\n        #ats-ad-container .plyr__controls__item.plyr__progress__container {\n            width: 100%;\n            padding-left: 0;\n            background: rgba(0, 0, 0, 0.6);\n        }\n        #ats-insert-video-sticky-wrapper .plyr__controls button.plyr__control, #ats-insert-video-sticky-wrapper .ats-ima-control-bar button.plyr__control {\n            opacity: 1;\n            transition: none;\n            padding: 4px 8px;\n            margin: auto;\n            height: 24px;\n            color: white;\n        }\n}\n    `,`${this.divId}`)},this.onClickAdPlayButton=()=>{this.adsManager&&(this.isAdPaused?(this.isAdPaused=!1,this.adsManager.resume(),this.adPlayButton.classList.add("plyr__control--pressed")):(this.isAdPaused=!0,this.adsManager.pause(),this.adPlayButton.classList.remove("plyr__control--pressed")))},this.buildVideo=async t=>{const{insertPosition:e="afterbegin",scrollEffect:i,adOutputFormat:s="vast",enableVastContinuousAds:n,numberOfRepeatedAds:o,aspectRatio:r="16:9",maxWidth:a,maxHeight:d}=this.config;this.applyInsertVideoCss(),(0,_core_utils_util__WEBPACK_IMPORTED_MODULE_0__.TD)(`#${this.wrapperId} {${this.config.customWrapperCss}}`);const l=document.createElement("video");this.videoTag=l,l.id=this.divId,l.className=this.divClassName,this.videoStickyWrapper=document.createElement("div"),this.videoWrapper=document.createElement("div"),this.videoWrapper.className=this.wrapperClassName,this.videoWrapper.id=this.wrapperId,l.setAttribute("controls","true"),l.setAttribute("playsinline","true"),l.setAttribute("webkit-playsinline","true"),l.setAttribute("preload","auto");const _=document.createElement("div");_.id="ats-ad-container",this.adDisplayContainerElm=_,a&&(this.videoWrapper.style.maxWidth=`${a}px`),d&&(this.videoWrapper.style.maxHeight=`${d}px`),this.videoWrapper.style.margin="0 auto",this.closeButton.id=this.closeButtonId,3===i&&this.videoStickyWrapper.appendChild(this.closeButton),this.videoStickyWrapper.appendChild(l),this.videoStickyWrapper.appendChild(_),this.videoWrapper.appendChild(this.videoStickyWrapper),t.insertAdjacentElement(e,this.videoWrapper),this.createImaControls(),this.adPlayButton=document.querySelector("button[data-plyr='play'].ats-ima-control"),this.adPlayButton?.addEventListener("click",this.onClickAdPlayButton),_Prebid__WEBPACK_IMPORTED_MODULE_1__.T.adUnitsCodeDict[this.divId]?await _Prebid__WEBPACK_IMPORTED_MODULE_1__.T.onFirstPrebidResponseEnded&&this.prebidAdUnits&&this.prebidAdUnit&&this.invokeVideoPlayer(_Prebid__WEBPACK_IMPORTED_MODULE_1__.T.buildVideoUrl(this.prebidAdUnit,this.createVastParams(this.prebidAdUnits.adUnitPath,s,n,o)),this.divId):this.invokeVideoPlayer(this.config.adUnitPath?_Gpt__WEBPACK_IMPORTED_MODULE_3__.Um.getVastUrl(this.createVastParams(this.config.adUnitPath,s,n,o,this.createAdSizes(r))):"",this.divId)},this.createAdSizes=t=>{let e=defaultSizes169;switch(t){case"9:16":e=defaultSizes916;break;case"4:3":e=defaultSizes43;break;case"3:4":e=defaultSizes34;break;case"1:1":e=defaultSizes11}return e},this.createVastParams=(t,e,i,s,n)=>{const o={iu:t,description_url:location.href,gdfp_req:"1",output:e,unviewed_position_start:"1",env:"vp",impl:"s",vid_d:"vmap"===e&&this.videoLength>0?this.videoLength.toString():"",..."vmap"===e?{ad_rule:"1"}:i?{ad_rule:"0",pmad:s?s.toString():"5",pmnd:"0",pmxd:"180000"}:{ad_rule:"0"},..._Gpt__WEBPACK_IMPORTED_MODULE_3__.Um.ppid?{ppid:_Gpt__WEBPACK_IMPORTED_MODULE_3__.Um.ppid}:{}};n&&(o.sz=n);const r=this.getCustomVastParam();return Object.assign(o,r),o},this.getCustomVastParam=()=>{const{customVastParams}=this.config;return customVastParams.reduce(((current,value)=>{let valueConfig;try{valueConfig=eval(value.value)+""}catch(t){vjsLogger.error("error in eval: ",value.value)}return current[value.key]=valueConfig,current}),{})},this.refreshAds=async(t,e)=>{e===this.videoLoadingCount&&(await this.waitUntilHasFocus(),this.player&&!this.isAdPlaying&&(this.adsManager&&this.adsManager.destroy(),this.adsLoader&&this.adsLoader.contentComplete(),this.adDisplayContainer.initialize(),vjsLogger.log("try to refresh ads"),this.imaRequestAds(t)))},this.waitUntilHasFocus=()=>new Promise((t=>{document.hasFocus()&&t(!0),this.hasFocusTimer=setInterval((()=>{document.hasFocus()&&(clearInterval(this.hasFocusTimer),t(!0))}),100)})),this.waitUntilFP=()=>!!this.isFirstPlay||new Promise((t=>{const e=setInterval((()=>{this.isFirstPlay&&(t(!0),clearInterval(e))}),50)})),this.createImaControls=()=>{this.adDisplayContainerElm.insertAdjacentHTML("afterbegin",'\n    <div class="plyr__controls ats-ima-control-bar">\n        <div class="ats-ima-control-container">\n          <button class="plyr__controls__item plyr__control ats-ima-control plyr__control--pressed" type="button" data-plyr="play" aria-pressed="false"\n                     aria-label="Play">\n              <svg class="icon--pressed" aria-hidden="true" focusable="false">\n                  <use xlink:href="#plyr-pause"></use>\n              </svg>\n              <svg class="icon--not-pressed" aria-hidden="true" focusable="false">\n                  <use xlink:href="#plyr-play"></use>\n              </svg>\n              <span class="label--pressed plyr__sr-only">Pause</span>\n              <span class="label--not-pressed plyr__sr-only">Play</span>\n          </button>\n          <div class="plyr__controls__item plyr__volume">\n              <button type="button" class="plyr__control" data-plyr="mute" aria-pressed="true">\n                  <svg class="icon--pressed" aria-hidden="true" focusable="false">\n                      <use xlink:href="#plyr-muted"></use>\n                  </svg>\n                  <svg class="icon--not-pressed" aria-hidden="true" focusable="false">\n                      <use xlink:href="#plyr-volume"></use>\n                  </svg>\n                  <span class="label--pressed plyr__sr-only">Unmute</span>\n                  <span class="label--not-pressed plyr__sr-only">Mute</span>\n              </button>\n          </div>\n          <div id="ads_countdown"></div>\n        </div>\n        <div class="plyr__controls__item plyr__progress__container">\n            <div id="ats_ads_progress_bar">\n                <div id="ats_ads_progress_bar-progress"></div>\n            </div>\n        </div>\n    </div>'),this.countdownDiv=document.querySelector("#ads_countdown"),this.progressDiv=document.querySelector("#ats_ads_progress_bar-progress"),this.imaControlBar=document.querySelector(".ats-ima-control-bar")},this.hideImaControlBar=()=>{this.imaControlBar.style.visibility="hidden"},this.showImaControlBar=()=>{this.imaControlBar.style.visibility="visible"},this.isInView=t=>{const{top:e,bottom:i,height:s}=t.getBoundingClientRect();return window.innerHeight-e-s/2>0&&i-s/2>0},this.waitUntilInView=()=>new Promise((t=>{this.isInView(this.videoStickyWrapper)&&t(!0);let e=!1;const i=()=>{e||(window.requestAnimationFrame((()=>{this.isInView(this.videoStickyWrapper)&&(document.removeEventListener("scroll",i),t(!0)),e=!1})),e=!0)};this.scrollCallbacks.push(i),document.addEventListener("scroll",i)})),this.onAdsErrorCallback=async t=>{const e=t.getError().data.errorCode;vjsLogger.error(`${this.divId}: error code: ${e}`,t.getError().data);const i=this.videoLoadingCount;await this.multiCallAds(i)},this.multiCallAds=async t=>{if(vjsLogger.log("multi call ads"),this.autoAdUnitPaths[this.counter_retry-1]&&this.counter_retry<=this.MAX_RETRY){let e;e=this.prebidAdUnits&&this.prebidAdUnit&&await _Prebid__WEBPACK_IMPORTED_MODULE_1__.T.onFirstPrebidResponseEnded?_Prebid__WEBPACK_IMPORTED_MODULE_1__.T.buildVideoUrl(this.prebidAdUnit,this.createVastParams(this.autoAdUnitPaths[this.counter_retry-1]||"",this.config.adOutputFormat,this.config.enableVastContinuousAds,this.config.numberOfRepeatedAds)):_Gpt__WEBPACK_IMPORTED_MODULE_3__.Um.getVastUrl(this.createVastParams(this.autoAdUnitPaths[this.counter_retry-1]||"",this.config.adOutputFormat,this.config.enableVastContinuousAds,this.config.numberOfRepeatedAds,this.createAdSizes(this.config.aspectRatio))),await this.refreshAds(e,t),vjsLogger.log("retry count",this.counter_retry),this.counter_retry++}else{this.counter_retry=1,vjsLogger.log("all retry is fail, call ads after some seconds");const t=this.videoLoadingCount;this.refreshTimer=setTimeout((()=>{this.refreshAds(this.config.adUnitPath?_Gpt__WEBPACK_IMPORTED_MODULE_3__.Um.getVastUrl(this.createVastParams(this.config.adUnitPath,this.config.adOutputFormat,this.config.enableVastContinuousAds,this.config.numberOfRepeatedAds,this.createAdSizes(this.config.aspectRatio))):"",t)}),this.REFRESH_INTERVAL)}},this.initIMA=t=>{const e=window.google;e.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),this.createAdDisplayContainer();const i=new e.ima.AdsLoader(this.adDisplayContainer);this.adsLoader=i,i.addEventListener(e.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded,!1),i.addEventListener(e.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsErrorCallback,!1),this.imaRequestAds(t)},this.contentEndedListener=()=>{this.contentEnded=!0,this.adsLoader.contentComplete()},this.imaRequestAds=t=>{const e=new window.google.ima.AdsRequest;this.adsRequest=e,e.adTagUrl=this.testAdTagUrl?this.testAdTagUrl:t,e.linearAdSlotWidth=this.originVideoWidth,e.linearAdSlotHeight=this.originVideoHeight,e.nonLinearAdSlotWidth=this.originVideoWidth,e.nonLinearAdSlotHeight=this.originVideoHeight/3,!this.config.sound||1===this.config.playerMode&&("sp"==this.deviceType||(0,_core_utils_util__WEBPACK_IMPORTED_MODULE_0__.Sw)()),vjsLogger.log("request ads"),this.adsLoader.requestAds(e)},this.createAdDisplayContainer=()=>{this.adDisplayContainer=new window.google.ima.AdDisplayContainer(this.adDisplayContainerElm,this.videoTag)},this.initializeAdDisplayContainer=()=>{this.adDisplayContainer&&(this.adDisplayContainerInitialized||(this.adDisplayContainer.initialize(),this.adDisplayContainerInitialized=!0))},this.showAdDisplayContainer=()=>{this.initAdUIElement(),this.adDisplayContainerElm.style.display="block"},this.hideAdDisplayContainer=()=>{this.initAdUIElement(),this.adDisplayContainerElm.style.display="none"},this.initAdUIElement=()=>{this.progressDiv.style.width="0%",this.countdownDiv.innerHTML=""},this.onAdsManagerLoaded=(t,e)=>{vjsLogger.log("ads manager loaded");const i=window.google,s=new i.ima.AdsRenderingSettings;s.restoreCustomPlaybackStateOnAdBreakComplete=!0;const n=t.getAdsManager(this.videoTag,s);this.adsManager=n,this.resizeObserver=new ResizeObserver((t=>{this.adsManager.resize(this.videoTag.clientWidth,this.videoTag.clientHeight,i.ima.ViewMode.NORMAL)})),this.resizeObserver.observe(this.videoTag);const o=[i.ima.AdEvent.Type.STARTED,i.ima.AdErrorEvent.Type.AD_ERROR,i.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,i.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,i.ima.AdEvent.Type.ALL_ADS_COMPLETED,i.ima.AdEvent.Type.LOADED,i.ima.AdEvent.Type.COMPLETE,i.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,i.ima.AdEvent.Type.SKIPPED,i.ima.AdEvent.Type.USER_CLOSE,i.ima.AdEvent.Type.LOG,i.ima.AdEvent.Type.AD_BREAK_READY];for(const t of o)n.addEventListener(t,this.onAdEvent(e));this.playAdBreaks()},this.onAdMuteClick=()=>{this.adMuteButton.classList.contains("plyr__control--pressed")?(this.adMuteButton.classList.add("plyr__control--not-pressed"),this.adMuteButton.classList.remove("plyr__control--pressed"),this.adsManager.setVolume(1)):(this.adMuteButton.classList.add("plyr__control--pressed"),this.adMuteButton.classList.remove("plyr__control--not-pressed"),this.adsManager.setVolume(0))},this.trackLinearAd=()=>{const t=this.currentAd.getDuration()>=0?this.currentAd.getDuration():0,e=this.adsManager.getRemainingTime()>0?this.adsManager.getRemainingTime():t;let i=t-e;i=i>=0?i:0;let s,n=0;this.currentAd.getAdPodInfo()&&(s=this.currentAd.getAdPodInfo().getAdPosition(),n=this.currentAd.getAdPodInfo().getTotalAds()),this.updateAdUi(i,e,t,s,n)},this.updateAdUi=(t,e,i,s,n)=>{const o=Math.floor(e/60),r=Math.floor(e%60);let a="";r.toString().length<2?a="0"+r:a+=r;let d=": ";n>1&&(d=" ("+s+"/"+n+")  "),this.countdownDiv.innerHTML="Ad"+d+o+":"+a;let l=0;i>0&&(l=t/i);const _=100*l;this.progressDiv.style.width=_+"%"},this.initAdsManager=()=>{this.adsManager.init(this.videoTag.clientWidth,this.videoTag.clientHeight,window.google.ima.ViewMode.NORMAL),this.initializeAdDisplayContainer()},this.playAdBreaks=async()=>{this.userStopAnchor||await this.waitUntilInView(),await this.waitUntilFP(),this.initAdsManager(),this.showAdDisplayContainer(),this.hideImaControlBar();try{vjsLogger.log("play ads"),this.adsManager.start()}catch(t){vjsLogger.log(t),this.player.play()}},this.invokeVideoPlayer=async(t,e)=>{const{aspectRatio:i,scrollEffect:s,youtubeChannelFeedUrl:n,videoSource:o,selectedYoutubeVideos:r,rssFeedJsonUrl:a,rssFeedUrl:d,rssFeedThumbnail:l,rssFeedButtonText:_}=this.config;let c="";if(1===o&&n){if(r.length>0?this.videoFeedEntry=await _VideoManager__WEBPACK_IMPORTED_MODULE_4__.f.chooseRandomSelectedVideo(e,n):this.videoFeedEntry=await _VideoManager__WEBPACK_IMPORTED_MODULE_4__.f.chooseLatestPublishedYTVideoEntry(n),!this.videoFeedEntry)return this.videoWrapper.style.display="none",void vjsLogger.error("iv: fail to download video");this.videoLength=this.videoFeedEntry.video_length||0,c=this.useMP4?this.videoFeedEntry.mp4.low:this.videoFeedEntry.hls.manifest,this.poster=this.videoFeedEntry.thumbnail}else if(2===o){const t=_VideoManager__WEBPACK_IMPORTED_MODULE_4__.f.chooseAMVideoEntry(this.divId);c=this.useMP4?t.mp4.low:t.hls.manifest,this.poster=_VideoManager__WEBPACK_IMPORTED_MODULE_4__.f.chooseAMVideoEntry(this.divId).thumbnail}else if((3===o||4===o)&&d&&a&&l){const t=await _VideoManager__WEBPACK_IMPORTED_MODULE_4__.f.chooseRssFeedVideoEntry(a,d);if(!t)return this.videoWrapper.style.display="none",void vjsLogger.error("iv: fail to download video");c=this.useMP4?t.mp4.low:t.hls.manifest,this.poster=l,this.rssFeedArticles=t.articles,this.videoLength=30}if(this.videoLength>0&&"vmap"===this.config.adOutputFormat){const e=new URL(t);e.searchParams.get("vid_d")||(e.searchParams.set("vid_d",this.videoLength.toString()),t=e.toString())}this.useMP4?this.videoTag.src=c:(this.hls=new window.atsHls(this.hlsConfig),this.hls.loadSource(c),this.hls.attachMedia(this.videoTag));const h={controls:["play-large","play","progress","current-time","mute","volume"],ratio:i};this.videoTag.setAttribute("data-poster",this.poster);const p=new window.atsPlyr(`#${e}`,h);this.player=p,this.initIMA(t),!this.config.sound||1===this.config.playerMode&&("sp"==this.deviceType||(0,_core_utils_util__WEBPACK_IMPORTED_MODULE_0__.Sw)())?(vjsLogger.log("mute video sound"),p.volume=0,p.muted=!0):p.volume=1;const{height:g,width:u}=this.videoWrapper.getBoundingClientRect();this.videoWrapper.style.height=g+"px",this.videoWrapper.style.width=u+"px",this.videoStickyWrapper.style.width=u+"px",this.originVideoWidth=u,this.originVideoHeight=g,this.videoStickyWrapper.id=this.videoStickyWrapperId,p.on("ready",(()=>{p.elements.container.style.display="block"})),p.on("play",(()=>{this.isPlaying=!0,this.isFirstPlay||(this.isFirstPlay=!0)})),p.on("ended",(async()=>{this.contentEndedListener(),await new Promise((t=>{const e=setInterval((()=>{this.allAdsCompleted&&(clearInterval(e),t(!0))}),300)})),this.dispose(),await this.execute(document)})),this.autoplayInNext&&3===s&&this.autoplay();let E=!1;this.isInView(this.videoStickyWrapper)&&(this.onceInView=!0);const f=()=>{E||(window.requestAnimationFrame((()=>{this.isInView(this.videoStickyWrapper)&&(this.onceInView=!0,document.removeEventListener("scroll",f)),E=!1})),E=!0)};if(document.addEventListener("scroll",f),this.scrollCallbacks.push(f),this.rssFeedArticles){this.rssArticleLink=document.createElement("a"),this.rssArticleLink.id=this.rssArticleLinkId,this.rssArticleLink.text=_||"Read Article",this.videoStickyWrapper.appendChild(this.rssArticleLink);const t=this.rssFeedArticles.map((t=>t.link));p.on("timeupdate",(()=>{const e=Math.floor(p.currentTime/6),i=t[e];i&&(this.rssArticleLink.href=i,this.rssArticleLink.style.visibility="visible")}))}else this.rssArticleLink.style.visibility="hidden";if(3!==s||this.userStopAnchor)if(2===s){let t=!1;this.topStickyCallback();const e=()=>{t||(window.requestAnimationFrame((()=>{this.topStickyCallback(),t=!1})),t=!0)};this.scrollCallbacks.push(e),document.addEventListener("scroll",e),this.showTopStickyVideoCloseButton&&(this.topStickyCloseButton.id=this.topStickyCloseButtonId,this.topStickyCloseButton.onclick=()=>{this.videoStickyWrapper.classList.remove(this.topStickyClass)},this.videoStickyWrapper.appendChild(this.topStickyCloseButton))}else 1===s&&(this.observer=new IntersectionObserver(this.staticCallback,{root:document,rootMargin:"0px",threshold:1}),this.observer.observe(this.videoWrapper));else{let t=!1;this.anchorCallback();const e=()=>{t||(window.requestAnimationFrame((()=>{this.anchorCallback(),t=!1})),t=!0)};document.addEventListener("scroll",e),this.scrollCallbacks.push(e),this.closeButton.addEventListener("click",(()=>{this.userStopAnchor=!0,document.removeEventListener("scroll",e),this.stopElmAnchoring()}))}},this.startElmAnchoring=()=>{this.stickyOrAnchoring||(this.stickyOrAnchoring=!0,this.videoStickyWrapper.classList.remove(`${this.wrapperClassName}-non-anchoring`),this.videoStickyWrapper.classList.add(`${this.wrapperClassName}-anchoring`),this.videoStickyWrapper.classList.add(this.anchoringClass),this.userStopAnchor&&!this.showCloseButton||(this.closeButton.style.visibility="visible"),this.player.elements.inputs.volume&&(this.player.elements.inputs.volume.style.display="none"),this.videoStickyWrapper.style.width="")},this.stopElmAnchoring=()=>{this.stickyOrAnchoring=!1,this.videoStickyWrapper.classList.remove(`${this.wrapperClassName}-anchoring`),this.videoStickyWrapper.classList.remove(this.anchoringClass),this.videoStickyWrapper.classList.add(`${this.wrapperClassName}-non-anchoring`),this.videoStickyWrapper.style.width=this.originVideoWidth+"px",this.player.elements.inputs.volume&&(this.player.elements.inputs.volume.style.display="block"),this.closeButton.style.visibility="hidden"},this.anchorCallback=()=>{const{top:t,height:e}=this.videoWrapper.getBoundingClientRect(),i=e/2+t-window.innerHeight<0,s=this.isInView(this.videoWrapper);i&&this.autoplay(),!this.userStopAnchor&&!this.onceInView||s?this.stickyOrAnchoring&&this.stopElmAnchoring():this.startElmAnchoring()},this.topStickyCallback=()=>{const t=this.videoWrapper.getBoundingClientRect().height,e=this.videoWrapper.getBoundingClientRect().top,i=this.videoWrapper.getBoundingClientRect().left;t/2+e-window.innerHeight<0&&this.autoplay(),e<0?this.stickyOrAnchoring||(this.stickyOrAnchoring=!0,this.videoStickyWrapper.classList.add(this.topStickyClass),this.videoStickyWrapper.style.width="",this.videoStickyWrapper.style.left=i+"px",this.videoStickyWrapper.style.width=this.originVideoWidth+"px",this.topStickyCloseButton.style.visibility="visible"):this.stickyOrAnchoring&&(this.stickyOrAnchoring=!1,this.videoStickyWrapper.classList.remove(this.topStickyClass),this.videoStickyWrapper.style.width=this.originVideoWidth+"px",this.topStickyCloseButton.style.visibility="hidden")},this.staticCallback=t=>{t[0].intersectionRatio>.5&&(this.observer?.disconnect(),this.autoplay())},this.autoplay=()=>{this.initialPlay||1!==this.config.playerMode||this.config.sound&&!_core_utils_util__WEBPACK_IMPORTED_MODULE_0__.Zu||(vjsLogger.log("interacted: ",_core_utils_util__WEBPACK_IMPORTED_MODULE_0__.Zu),this.initialPlay=!0,vjsLogger.log("auto play video"),this.player?.play())},this.play=async()=>{await this.waitUntilInView(),await this.waitUntilFP(),vjsLogger.log("play video"),this.player?.play()},this.dispose=()=>{vjsLogger.log("dispose"),this.scrollCallbacks=this.scrollCallbacks.reduce(((t,e)=>(document.removeEventListener("scroll",e),t)),[]),this.hideAdDisplayContainer(),this.hideImaControlBar(),this.adDisplayContainerInitialized=!1,this.counter_retry=1,this.player.destroy(),this.videoWrapper.remove(),this.initialPlay=!1,this.stickyOrAnchoring=!1,this.isPlaying=!1,this.isFirstPlay=!1,this.autoplayInNext=!0,this.showCloseButton=!1,this.adsManager&&this.adsManager.destroy(),this.adsLoader&&this.adsLoader.destroy(),this.adDisplayContainer&&this.adDisplayContainer.destroy(),this.adsRequest=null,this.hls.detachMedia(),this.hls=null,this.isAdPaused=!1,this.contentEnded=!1,this.allAdsCompleted=!1,this.isAdPlaying=!1,this.rssArticleLink.style.visibility="hidden",clearInterval(this.intervalTimer),clearInterval(this.countdownTimer),clearTimeout(this.refreshTimer)},this.divId=this.config.divIDs[0],this.closeButtonId=`${this.divId}-close-button`,this.closeButton.type="button",this.wrapperId=`${this.divId}-wrapper`;const{sizeMappingGroup,selectedYoutubeVideos,anchorPosition=1,autoAdUnitPaths=[],showTopStickyVideoCloseButton}=this.config;this.autoAdUnitPaths=autoAdUnitPaths,this.prebidAdUnits=_Prebid__WEBPACK_IMPORTED_MODULE_1__.T.adUnitsCodeDict[this.divId],this.prebidAdUnit=this.prebidAdUnits?this.prebidAdUnits.prebidAdUnits.filter((t=>"instream"===t.mediaTypes.video?.context))[0]:void 0;const sizeMapping=sizeMappingGroup.find((t=>(0,_core_utils_util__WEBPACK_IMPORTED_MODULE_0__.hg)(t.deviceSizes)));this.vastSizes=sizeMapping?sizeMapping.sizes[0]:[300,250],2===anchorPosition?this.anchoringClass=`${this.wrapperClassName}-left`:1===anchorPosition&&(this.anchoringClass=`${this.wrapperClassName}-right`),this.showTopStickyVideoCloseButton=showTopStickyVideoCloseButton,_VideoManager__WEBPACK_IMPORTED_MODULE_4__.f.registerSelectedVideos(selectedYoutubeVideos,this.divId)}get useMP4(){return!window.atsHls.isSupported()}}},463:(t,e,i)=>{i.d(e,{R:()=>a});var s=i(939),n=i(554),o=i(335),r=i(599);class a extends r.x{constructor(t,e,i){super(t,"ats-interstitial",e,"interstitial"),this.resolve=i,this._execute=()=>{},this._findTarget=()=>[document.body],this._buildSlot=t=>{const e=this.config.divIDs[0];return this.slots[e]={slotWrapper:this.createDiv(`${this.AD_NAME}-root`),slot:document.createElement("div"),divId:e,adUnitPath:this.config.adUnitPath,isGPTRefreshCalled:!1,shouldStopRefresh:!1},this.backdrop=this.createDiv(`${this.AD_NAME}-backdrop`),this.container=this.createDiv(`${this.AD_NAME}-container`),this.paper=this.createDiv(`${this.AD_NAME}-paper`),this.paper.appendChild(this.slots[e].slot),this.container.appendChild(this.paper),this.slots[e].slotWrapper.appendChild(this.backdrop),this.slots[e].slotWrapper.appendChild(this.container),this.slots[e].slotWrapper.appendChild(this.closeButton),this.setCustomStyle(),t.insertAdjacentElement("beforeend",this.slots[e].slotWrapper),e},this._getFetchAdConfig=t=>{const{adUnitPath:e,sizeMappingGroup:i,setCollapseEmptyDiv:s,setTargetingConfigs:n,enableSetForceSafeFrameForSlot:o}=this.config;return{gpt:{slotWrapperDiv:this.slots[t].slotWrapper,instanceCount:this.instanceCount,adUnitPath:e,sizes:[[300,250]],divId:t,sizeMappingGroup:i,setCollapseEmptyDiv:s,setTargetingConfigs:n,enableSetForceSafeFrameForSlot:o,onAfterGptRendered:this._onAfterGptRendered(t),onAfterGptFetched:this._onAfterGptFetched(t),infinite:!1}}},this._onAfterGptFetched=t=>e=>{this.dispose=()=>{try{this.close(e,t)}catch(t){o.vF.error(t)}},this.closeButton.onclick=()=>this.close(e,t)},this._onAfterGptRendered=t=>e=>{try{if(e.isEmpty)throw new Error(e.slot+" isEmpty");const[i,s]=Array.isArray(e.size)?e.size:[0,0];this.show(i,s,t)}catch(t){this.dispose()}},this.setCloseButtonPosition=()=>{let t=`#${this.AD_NAME}-button {\n      top: 112px;\n      bottom: auto!important;\n      right: 56px;\n    }`;switch(this.config.closeButtonPosition){case"topleft":t=`#${this.AD_NAME}-button {\n          top: 112px;\n          bottom: auto!important;\n          left: 56px;\n        }`;break;case"topright":t=`#${this.AD_NAME}-button {\n          top: 112px;\n          bottom: auto!important;\n          right: 56px;\n        }`;break;case"topmiddle":t=`#${this.AD_NAME}-button {\n          top: 112px;\n          bottom: auto!important;\n          left: 50%;\n          transform: translateX(-50%);\n          padding: 8px 32px;\n        }`;break;case"bottomleft":t=`#${this.AD_NAME}-button {\n          bottom: 112px;\n          top: auto!important;\n          left: 56px;\n        }`;break;case"bottomright":t=`#${this.AD_NAME}-button {\n          bottom: 112px;\n          top: auto!important;\n          right: 56px;\n        }`;break;case"bottommiddle":t=`#${this.AD_NAME}-button {\n          bottom: 112px;\n          top: auto!important;\n          left: 50%;\n          transform: translateX(-50%);\n          padding: 8px 32px;\n        }`}(0,s.TD)(t,`${this.AD_NAME}-override-position`)},this.setCustomStyle=()=>{this.config.useCloseButtonXIcon&&(0,s.TD)(`#${this.AD_NAME}-button::before {content: '';font-size: inherit;${this.config.closeButtonText?"margin-right: 8px;":""}color: inherit}`,`${this.AD_NAME}-close-button-x-icon`),this.setCloseButtonPosition(),this.config.useCustomCss&&this.config.customCss&&(0,s.TD)(this.config.customCss,`${this.AD_NAME}-override`)},this.createDiv=t=>{const e=document.createElement("div");return e.id=t,e},this.createCloseButton=(t,e)=>{const i=document.createElement("button"),s=document.createTextNode(e);return i.appendChild(s),i.id=t,i},this.show=(t,e,i)=>{this.slots[i].slotWrapper.style.visibility="visible",this.slots[i].slotWrapper.style.opacity="1",this.paper.style.width=`${t}px`,this.paper.style.height=`${e}px`,this.closeButton.style.display="none";const s=this.slots[i].slot.querySelector("iframe");s&&s.addEventListener("load",(()=>{setTimeout((()=>{this.closeButton.style.display="inline-block"}),window.anymindTS_TIME_HIDE_INTERSTITIAL_CLOSE_BUTTON??300)}))},this.close=(t,e)=>{this.slots[e].slotWrapper.style.opacity="0",(0,n._7)((()=>{t&&(googletag.destroySlots([t]),document.body.removeChild(this.slots[e].slotWrapper))}))(),this.resolve&&(o.vF.log("is: close"),this.resolve())},this.dispose=()=>{},this.backdrop=this.createDiv(`${this.AD_NAME}-backdrop`),this.container=this.createDiv(`${this.AD_NAME}-container`),this.paper=this.createDiv(`${this.AD_NAME}-paper`),this.closeButton=this.createCloseButton(`${this.AD_NAME}-button`,this.config.closeButtonText||"")}_init(){}_addStyle(){(0,s.TD)(`\n    #${this.AD_NAME}-root {\n        visibility: hidden;\n        opacity: 0;\n        will-change: opacity;\n        transition: opacity 225ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\n        box-sizing: border-box;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        z-index: 1500;\n        position: fixed;\n    }\n    #${this.AD_NAME}-backdrop {\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        z-index: -1;\n        position: fixed;\n        touch-action: none;\n        background-color: rgba(0, 0, 0, 0.5);\n        -webkit-tap-highlight-color: transparent;\n    }\n    #${this.AD_NAME}-container {\n        height: 100%;\n        outline: none;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    }\n    #${this.AD_NAME}-paper {\n        flex: 0 1 auto;\n        max-width: 1000px;\n        max-height: calc(100% - 96px);\n        margin: 0;\n        display: flex;\n        position: relative;\n        overflow-y: auto;\n        flex-direction: column;\n        box-shadow: 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);\n        border-radius: 4px;\n        background-color: rgba(50, 50, 50, 0.4);\n        box-sizing: inherit;\n    }\n    #${this.AD_NAME}-button {\n        position: fixed;\n        top: 112px;\n        right: 56px;\n        color: ${this.config.closeButtonTextColor||"#fff"};\n        background-color: ${this.config.closeButtonBackgroundColor||"#000000"};\n        padding: 8px 16px;\n        font-size: 1rem;\n        min-width: 64px;\n        box-sizing: border-box;\n        min-height: 36px;\n        font-weight: ${this.config.closeButtonBoldText?600:500};\n        line-height: 1.5;\n        border: none;\n        border-radius: 8px;\n        letter-spacing: 0.02857em;\n        white-space: nowrap;\n    }\n    #${this.AD_NAME}-button:focus {\n        outline: none !important;\n    }\n`,this.AD_NAME)}}},101:(t,e,i)=>{i.d(e,{h:()=>l});var s,n=i(939),o=i(554),r=i(335),a=i(599),d=i(8);!function(t){t[t.NORMAL=1]="NORMAL",t[t.AMP_LIKE=2]="AMP_LIKE",t[t.ADSENSE_LIKE=3]="ADSENSE_LIKE"}(s||(s={}));class l extends a.x{constructor(t,e){super(t,`ats-overlay-${t.anchorPosition}`,e,"overlay"),this.isOpen=!0,this._execute=(t,e=!1)=>(this.infinite=e,t),this._findTarget=()=>[document.body],this._buildSlot=t=>{const e=this.config.divIDs[0];this.slots[e]={slotWrapper:document.createElement("div"),slot:document.createElement("div"),divId:e,adUnitPath:this.config.adUnitPath,isGPTRefreshCalled:!1,shouldStopRefresh:!1,...this.makeReplaceAdSenseParams()},this.slots[e].slotWrapper.classList.add(`${this.AD_NAME}-wrapper-${this.UNRENDERED}`);const i=document.createElement("div");i.className=`${this.AD_NAME}-padding-block-top`;const n=document.createElement("div");return n.className=`${this.AD_NAME}-padding-block-bottom`,this.slots[e].slotWrapper.appendChild(i),this.config.overlayDesign===s.AMP_LIKE||this.config.overlayDesign===s.ADSENSE_LIKE?(this.config.overlayDesign===s.ADSENSE_LIKE&&(this.slots[e].slotWrapper.style.transition="bottom 1s ease-in-out, top 1s ease-in-out"),"bottom"===this.config.anchorPosition?(n.classList.add(`${this.AD_NAME}-${this.NOT_DISPLAYED}`),this.slots[e].slotWrapper.appendChild(this.closeButton),this.slots[e].slotWrapper.appendChild(this.slots[e].slot),this.slots[e].slotWrapper.appendChild(n)):(i.classList.add(`${this.AD_NAME}-${this.NOT_DISPLAYED}`),this.slots[e].slotWrapper.appendChild(this.slots[e].slot),this.slots[e].slotWrapper.appendChild(n),this.slots[e].slotWrapper.appendChild(this.closeButton))):(n.classList.add(`${this.AD_NAME}-${this.NOT_DISPLAYED}`),i.classList.add(`${this.AD_NAME}-${this.NOT_DISPLAYED}`),this.slots[e].slotWrapper.appendChild(this.slots[e].slot),this.slots[e].slotWrapper.appendChild(n)),t.insertAdjacentElement("afterbegin",this.slots[e].slotWrapper),e},this.handleClickAmpLike=(t,e)=>()=>{t&&googletag.destroySlots([t]),this.slots[e].shouldStopRefresh=!0,this.slots[e].slotWrapper.remove()},this.handleClickAdSenseLike=t=>()=>{const{anchorPosition:e}=this.config;if(this.isOpen){this.isOpen=!1,this.closeButton.style.backgroundImage="bottom"===this.config.anchorPosition?this.upArrowSvgUrl:this.downArrowSvgUrl,this.slots[t].shouldStopRefresh=!0;const i=this.slots[t].slotWrapper.getBoundingClientRect().height;"bottom"===e?this.slots[t].slotWrapper.style.bottom=`-${i}px`:this.slots[t].slotWrapper.style.top=`-${i}px`}else this.isOpen=!0,this.closeButton.style.backgroundImage="bottom"===this.config.anchorPosition?this.downArrowSvgUrl:this.upArrowSvgUrl,this.slots[t].shouldStopRefresh=!1,"bottom"===e?this.slots[t].slotWrapper.style.bottom="0px":this.slots[t].slotWrapper.style.top="0px"},this._getFetchAdConfig=t=>{const{adUnitPath:e,sizeMappingGroup:i,setCollapseEmptyDiv:s,setTargetingConfigs:n,enableSetForceSafeFrameForSlot:o}=this.config;return{gpt:{slotWrapperDiv:this.slots[t].slotWrapper,instanceCount:this.instanceCount,adUnitPath:e,sizes:[[300,250]],divId:t,enableSetForceSafeFrameForSlot:o,sizeMappingGroup:i,setCollapseEmptyDiv:s,setTargetingConfigs:n,onAfterGptRendered:this._onAfterGptRendered(t),onAfterGptFetched:this._onAfterGptFetched(t),infinite:this.infinite}}},this._onAfterGptFetched=t=>e=>{const{overlayDesign:i}=this.config;i===s.AMP_LIKE?(this.closeButton.onclick=this.handleClickAmpLike(e,t),this.dispose=()=>{try{this.handleClickAmpLike(e,t)(),r.vF.log("o: dispose")}catch(t){r.vF.error(t)}}):i===s.ADSENSE_LIKE&&(this.closeButton.onclick=this.handleClickAdSenseLike(t),this.dispose=()=>{try{this.handleClickAmpLike(e,t)(),r.vF.log("o: dispose")}catch(t){r.vF.error(t)}})},this._onAfterGptRendered=t=>e=>{const i=this.slots[t];if(this.config.refreshInterval>0&&!1===i.isGPTRefreshCalled&&o.Um.intervalRefreshAds([e.slot],this.config.refreshInterval,this.config.refreshLimit,t,this.slots,0,this.config.setTargetingConfigs),!e.size)return i.slotWrapper.classList.remove(`${this.AD_NAME}-wrapper-${this.RENDERED}`),void i.slotWrapper.classList.add(`${this.AD_NAME}-wrapper-${this.UNRENDERED}`);i.slotWrapper.classList.add(`${this.AD_NAME}-wrapper-${this.RENDERED}`),i.slotWrapper.classList.remove(`${this.AD_NAME}-wrapper-${this.UNRENDERED}`),i.eventSize=Array.isArray(e.size)?[e.size[0],e.size[1]]:[0,0];const s=e.size.join("x");"0x0"!==s&&"1x1"!==s&&(i.slot.style.width=e.size[0]+"px",i.slot.style.height=e.size[1]+"px")},this.dispose=()=>{r.vF.log("o: dispose. (Not overwritten yet)")},d.A.createAdObserver(this.config,this),this.closeButton=document.createElement("button"),this.closeButton.classList.add(`${this.AD_NAME}-close-button`)}_init(){this.initialArrowDown="bottom"===this.config.anchorPosition,this.upArrowSvgUrl="url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='21' height='12' viewBox='0 0 21 12' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0.646454 11.6465L10.6465 1.64645L20.6465 11.6465' stroke='black' stroke-opacity='0.8'/%3E%3C/svg%3E%0A\")",this.downArrowSvgUrl="url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='22' height='12' viewBox='0 0 22 12' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M21 1L11 11L1 1' stroke='black' stroke-opacity='0.8'/%3E%3C/svg%3E%0A\")",this.ampLikeSvg="url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='13' height='13' viewBox='341 8 13 13' fill='black' fill-opacity='0.6' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M354 9.31L352.69 8l-5.19 5.19L342.31 8 341 9.31l5.19 5.19-5.19 5.19 1.31 1.31 5.19-5.19 5.19 5.19 1.31-1.31-5.19-5.19z' fill-rule='evenodd'/%3E%3C/svg%3E\")"}_addStyle(){const t=`\n        display: block !important;\n        height: auto !important;\n        visibility: visible;\n        opacity: 1;\n        will-change: opacity;\n        width: 100%;\n        position: fixed;\n        left: 0;\n        right: 0;\n        ${this.config.anchorPosition}: 0;\n        box-sizing: border-box;\n        z-index: 2147483647;\n        box-shadow: ${"bottom"===this.config.anchorPosition?"rgba(0, 0, 0, 0.4) 0px -4px 6px -3px":"rgba(0, 0, 0, 0.4) -2px 2px 6px -3px"};\n        background: ${this.config.overlayDesign===s.NORMAL?this.config.backgroundCss||"rgba(0,0,0,0.8)":"#fff"};\n    `;let e="";this.config.overlayDesign===s.AMP_LIKE?e=`\n        display: block !important;\n        background-image: ${this.ampLikeSvg};\n        background-size: 13px 13px;\n        background-position: center;\n        background-color: #fff;\n        background-repeat: no-repeat;\n        border: none;\n        height: 28px;\n        width: 28px;\n        padding: 0;\n        margin: 0;\n        position: absolute;\n        right: 0;\n    `+("top"===this.config.anchorPosition?"\n        bottom: -27px;\n        box-shadow: -1px 1px 1px 0 rgba(0,0,0,0.1);\n        border-radius: 0 0 0 12px;\n    ":"\n        top: -27px;\n        box-shadow: 0 -1px 1px 0 rgba(0,0,0,0.2);\n        border-radius: 12px 0 0 0;\n    "):this.config.overlayDesign===s.ADSENSE_LIKE&&(e=`\n        display: block !important;\n        background-image: ${this.initialArrowDown?this.downArrowSvgUrl:this.upArrowSvgUrl};\n        background-size: 16px 16px;\n        background-position: center;\n        background-color: #fff;\n        background-repeat: no-repeat;\n        border: none;\n        height: 28px;\n        width: 56px;\n        padding: 0;\n        margin: 0;\n        position: absolute;\n        right: 0;\n    `+("top"===this.config.anchorPosition?"\n        bottom: -27px;\n        box-shadow: -1px 1px 1px 0 rgba(0,0,0,0.1);\n        border-radius: 0 0 6px 6px;\n    ":"\n        top: -27px;\n        box-shadow: 0 -1px 1px 0 rgba(0,0,0,0.2);\n        border-radius: 6px 6px 0 0;\n    "));const i='\n        position: absolute;\n        content: "";\n    '+("top"===this.config.anchorPosition?"\n        top: 0px;\n        right: 0;\n        left: -20px;\n        bottom: -20px;\n    ":"\n        top: -20px;\n        right: 0;\n        left: -20px;\n        bottom: 0;\n    ");(0,n.TD)(`\n      .${this.AD_NAME}-wrapper-${this.UNRENDERED} {\n        height: 1px;\n        visibility: hidden;\n        opacity: 0;\n        will-change: opacity;\n        transition: opacity 225ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\n        box-sizing: border-box;\n      }\n      \n      .${this.AD_NAME}-wrapper-${this.RENDERED} {\n        ${t}\n      }\n      \n      \n      .${this.AD_NAME}-wrapper-${this.RENDERED} > div,\n      .${this.AD_NAME}-wrapper-${this.RENDERED} > div > div,\n      .${this.AD_NAME}-wrapper-${this.RENDERED} > div > div > iframe {\n        margin: 0 auto;\n        text-align: center;\n      }\n    \n      .${this.AD_NAME}-close-button::before {\n        ${i}\n      }\n      \n      .${this.AD_NAME}-close-button {\n        ${e}\n      }\n      \n      .${this.AD_NAME}-close-button:focus {\n        outline: none;\n      }\n      \n      .${this.AD_NAME}-padding-block-top {\n        height: 4px;\n      }\n      \n      .${this.AD_NAME}-padding-block-bottom {\n        height: 4px;\n      }\n      \n      .${this.AD_NAME}-${this.NOT_DISPLAYED} {\n        display: none;\n      }\n      \n      .${this.AD_NAME}-wrapper-${this.RENDERED} {\n        ${this.config.customCss||""}\n      }\n    `,this.AD_NAME)}}},862:(t,e,i)=>{i.d(e,{k:()=>d});var s=i(939),n=i(599),o=i(335),r=i(554),a=i(8);class d extends n.x{constructor(t,e){super(t,"ats-parallax",e,"parallax"),this.executeCount=0,this._execute=(t,e=!1)=>(this.infinite=e,this.executeCount++,t),this._findTarget=t=>{const{selector:e,targetType:i}=this.config,n=(0,s.EW)(t,e,i);return null==n?null:[n]},this._buildSlot=(t,e)=>{const{divIDs:i,insertPosition:s,centerAd:n,headerText:o,footerText:r}=this.config,a=i[0]+this.executeCountSuffix(),d=document.createElement("div"),l=document.createElement("div"),_=document.createElement("div"),c=document.createElement("div"),h=document.createElement("div"),p=document.createElement("div"),g=document.createElement("div"),u=document.createElement("div");if(d.append(l),l.append(_),l.append(h),l.append(c),h.append(p),p.append(g),g.append(u),d.classList.add(`${this.AD_NAME}-container`),l.classList.add(`${this.AD_NAME}-clipper`),_.classList.add(`${this.AD_NAME}-header`),c.classList.add(`${this.AD_NAME}-footer`),h.classList.add(`${this.AD_NAME}-position-relative`),n?(g.classList.add(`${this.AD_NAME}-ad-wrapper-center`),p.classList.add(`${this.AD_NAME}-content-center`)):(g.classList.add(`${this.AD_NAME}-ad-wrapper`),p.classList.add(`${this.AD_NAME}-content`)),o){const t=document.createTextNode(o);_.appendChild(t)}else _.classList.add(`${this.AD_NAME}-${this.NOT_DISPLAYED}`);if(r){const t=document.createTextNode(r);c.appendChild(t)}else c.classList.add(`${this.AD_NAME}-${this.NOT_DISPLAYED}`);return d.classList.add(`${this.AD_NAME}-${this.NOT_DISPLAYED}`),t.insertAdjacentElement(s,d),this.slots[a]={baseElement:e,slotWrapper:d,adUnitPath:this.config.adUnitPath,divId:a,slot:u,isGPTRefreshCalled:!1,shouldStopRefresh:!1,...this.makeReplaceAdSenseParams()},a},this._getFetchAdConfig=(t,e,i)=>{const{setCollapseEmptyDiv:s,sizeMappingGroup:n,setTargetingConfigs:o,enableSetForceSafeFrameForSlot:r}=this.config,a=this.slots[t];return{gpt:{slotWrapperDiv:a.slotWrapper,instanceCount:this.instanceCount,adUnitPath:a.adUnitPath,sizes:[[300,250]],divId:a.divId,setCollapseEmptyDiv:s,sizeMappingGroup:n,setTargetingConfigs:o,enableSetForceSafeFrameForSlot:r,onAfterGptRendered:this._onAfterGptRendered(t),onAfterGptFetched:this._onAfterGptFetched(t),infinite:i}}},this._onAfterGptFetched=t=>e=>{const i=this.slots[t];i.googletagSlot=e,i.dispose=()=>{i.shouldStopRefresh=!0,googletag.destroySlots([e]),i.slotWrapper.remove()}},this._onAfterGptRendered=t=>e=>{const{refreshInterval:i,refreshLimit:s,inViewRate:n,setTargetingConfigs:o}=this.config,a=this.slots[t];i>0&&!1===a.isGPTRefreshCalled&&r.Um.intervalRefreshAds([e.slot],i,s,t,this.slots,n,o),e.slot===a.googletagSlot&&(e.isEmpty||(a.eventSize=Array.isArray(e.size)?[e.size[0],e.size[1]]:[0,0],a.slotWrapper.classList.remove(`${this.AD_NAME}-${this.NOT_DISPLAYED}`)))},this.dispose=()=>{try{o.vF.log("p: dispose");for(const t in this.slots){const e=this.slots[t];e.removeScrollEventListener&&e.removeScrollEventListener(),e.dispose&&e.dispose(),delete this.slots[t]}}catch(t){o.vF.error(t)}},a.A.createAdObserver(this.config,this)}_init(){}_addStyle(){const{marginTop:t,centerAd:e,containerMargin:i,containerHeight:n,containerWidthType:o,contentWidth:r,backgroundColor:a,customCss:d}=this.config,l=e?"100%":r,_=i||"0",c=e?0:t,h=n>360?n:361;(0,s.TD)(`\n        .${this.AD_NAME}-container {\n            width: 100${o};\n            height: 100vh;\n            max-height: ${h}px;\n            min-height: 350px;\n            position: relative;\n            margin: ${_};\n        }\n\n        .${this.AD_NAME}-clipper {\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            margin: 0;\n            padding: 0;\n            overflow: hidden;\n            clip-path: inset(0px);\n            clip: rect(0px auto auto 0px);\n            background: ${a||"#ccc"}\n        }\n\n        .${this.AD_NAME}-header {\n            position: absolute;\n            z-index: 1;\n            top: 0px;\n            font-size: 12px;\n            text-align: center;\n            width: 100%;\n            line-height: normal;\n            padding: 4px 0px;\n            background-color: #000;\n            color: #fff;\n            letter-spacing: 3px;\n            font-family: Arial;\n        }\n\n        .${this.AD_NAME}-footer {\n            position: absolute;\n            z-index: 1;\n            bottom: 0px;\n            font-size: 9pt;\n            text-align: center;\n            width: 100%;\n            line-height: normal;\n            padding: 4px 0px;\n            background-color: #000;\n            color: #fff;\n            letter-spacing: 3px;\n            font-family: Arial;\n        }\n\n        .${this.AD_NAME}-position-relative {\n            height: 100%;\n            position: relative;\n            width: 100%;\n            margin: 0 auto;\n            text-align: center;\n            z-index: -1;\n        }\n\n        .${this.AD_NAME}-content {\n            position: fixed;\n            margin-top: ${c}px;\n            top: 0;\n            width: ${l};\n            z-index: -1;\n        }\n        \n        .${this.AD_NAME}-content-center {\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100vh;\n            margin: 0;\n            padding: 0px;\n            bottom: 0;\n            transform: translateZ(0px);\n            z-index: -1;\n        }\n\n        .${this.AD_NAME}-ad-wrapper {\n            text-align: center;\n            z-index: -1;\n        }\n        \n        .${this.AD_NAME}-ad-wrapper-center {\n            width: 100%;\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            transform: translateY(-50%) translateX(-50%);\n            -webkit-transform: translateY(-50%) translateX(-50%);\n        }\n        \n        .${this.AD_NAME}-${this.NOT_DISPLAYED} {\n          display: none;\n        }\n`,`${this.AD_NAME}`),d&&(0,s.TD)(d,`${this.AD_NAME}-override`)}executeCountSuffix(){return this.infinite?"_"+this.executeCount.toString():""}}},67:(t,e,i)=>{i.d(e,{N:()=>r});var s=i(456),n=i(939),o=i(335);class r extends s.W{constructor(t,e){super(t,e),this._findTarget=t=>{const{selector:e,targetType:i}=this.config,s=(0,n.EW)(t,e,i);return null==s?null:(o.vF.log("Replace target",s),[s])},this._buildSlot=(t,e)=>{const{showAdvertisement:i,customShowAdsText:s,divIDs:n}=this.config;if(this.currentNumOfAds++,this.currentNumOfAds>this.config.numOfAds)return null;const o=n[this.currentNumOfAds-1]+(this.infinite?`-${this.executeCallCount}`:""),r=document.createElement("div"),a=document.createElement("p"),d=document.createTextNode(s||this.ADVERTISEMENT_TEXT);a.appendChild(d);const l=document.createElement("div");l.classList.add("ats-slot"),r.appendChild(a),r.appendChild(l);const _=document.createElement("div"),c=`${o}-wrapper`;return _.id=c,_.classList.add(this.AD_NAME,this.CLASS_NAME),i&&_.classList.add(this.SHOW_ADVERTISEMENT),_.appendChild(r),t.insertAdjacentElement("beforebegin",_),t.remove(),this.slots[o]={baseElement:e,adUnitPath:this.config.adUnitPath,divId:o,slotWrapper:_,slot:l,isGPTRefreshCalled:!1,shouldStopRefresh:!1,...this.makeReplaceAdSenseParams()},o}}}},284:(t,e,i)=>{i.d(e,{G:()=>d});var s=i(939),n=i(335),o=i(554),r=i(599),a=i(8);class d extends r.x{constructor(t,e){super(t,"ats-skyscraper",e,"skyscraper"),this.executeCount=0,this.adSizes=null,this.maxAdSizes=[300,250],this._execute=(t,e=!1)=>(this.infinite=e,this.executeCount++,t),this._findTarget=t=>{if(null===this.adSizes)return null;const{adUnitPath:e,targetType:i,selector:o,anchorPosition:r}=this.config,a=(0,s.EW)(t,o,i);if(!a)return null;const d=a.getBoundingClientRect(),l=d.width,_="left"===r?d[r]:window.innerWidth-d[r],c=l+this.marginSide+this.extractMaxAdSize(this.adSizes)[0];return window.innerWidth<c||_<this.marginSide+this.extractMaxAdSize(this.adSizes)[0]?(n.vF.error(`ss ${e}: No enough screen width to render ads.`),null):[a]},this._getFetchAdConfig=(t,e,i)=>{const{sizeMappingGroup:s,setCollapseEmptyDiv:n,setTargetingConfigs:o,enableSetForceSafeFrameForSlot:r}=this.config;return{gpt:{slotWrapperDiv:this.slots[t].slotWrapper,instanceCount:this.instanceCount,adUnitPath:this.slots[t].adUnitPath,sizes:[[300,250]],divId:t,sizeMappingGroup:s,setCollapseEmptyDiv:n,setTargetingConfigs:o,enableSetForceSafeFrameForSlot:r,onAfterGptFetched:this._onAfterGptFetched(t),onAfterGptRendered:this._onAfterGptRendered(t,e),infinite:i}}},this._onAfterGptFetched=t=>e=>{this.slots[t].googletagSlot=e,this.slots[t].dispose=()=>{googletag.destroySlots([e]),this.slots[t].slotWrapper.remove()}},this._onAfterGptRendered=(t,e)=>i=>{if(null===i.size)return;const{isSticky:s,anchorPosition:r,refreshInterval:a,refreshLimit:d,inViewRate:l,setTargetingConfigs:_,showAdsText:c}=this.config,h=this.slots[t];a>0&&!1===h.isGPTRefreshCalled&&o.Um.intervalRefreshAds([i.slot],a,d,t,this.slots,l,_),h.eventSize=Array.isArray(i.size)?[i.size[0],i.size[1]]:[0,0],c&&h.slot.classList.add(this.RENDERED);const p=e.getBoundingClientRect().width,g=h.slotWrapper,u=i.size;g.style[r]=`calc(50% - ${p/2+u[0]+this.marginSide}px)`,u[0]<this.maxAdSizes[0]&&(g.style[r]=`calc(50% - ${p/2+this.maxAdSizes[0]+this.marginSide}px)`,n.vF.log(`ss: Since it is [${u}], I calculated it with [${this.maxAdSizes}]`)),s&&this.stickyNodes(e,t,u)},this.extractMaxAdSize=t=>(t.sort(((t,e)=>e[1]-t[1])),t.sort(((t,e)=>e[0]-t[0])),t[0]),this.stickyNodes=(t,e,i)=>{let s;const n=()=>{s&&window.cancelAnimationFrame(s),s=window.requestAnimationFrame((()=>{const s=t.getBoundingClientRect();s.top>0?(this.setWrapperStyle(e,"position","absolute"),this.setWrapperStyle(e,"top",`${this.marginTop+s.top+window.pageYOffset}px`)):s.top+s.height-i[1]-this.marginTop-this.marginBottom<0?(this.setWrapperStyle(e,"position","absolute"),this.setWrapperStyle(e,"top",s.top+window.pageYOffset+s.height-i[1]-this.marginBottom+"px")):(this.setWrapperStyle(e,"position","fixed"),this.setWrapperStyle(e,"top",this.marginTop+"px"))}))};this.slots[e].removeScrollEventListener=()=>{s&&window.cancelAnimationFrame(s),window.removeEventListener("scroll",n)},window.addEventListener("scroll",n)},this.dispose=()=>{try{for(const t in this.slots)if(Object.prototype.hasOwnProperty.call(this.slots,t)){const e=this.slots[t];e.shouldStopRefresh=!0,e.removeScrollEventListener&&e.removeScrollEventListener(),e.dispose&&e.dispose()}}catch(t){n.vF.error(t)}},a.A.createAdObserver(this.config,this);const{margin:i,sizeMappingGroup:r,anchorPosition:d}=this.config,l=i.split(" ").map((t=>parseInt(t.slice(0,-2))));this.marginSide="left"===d?l[1]:l[3],this.marginTop=l[0],this.marginBottom=l[2];for(let t=0;t<r.length;t++){const e=r[t];if((0,s.hg)(e.deviceSizes)){const t=e.sizes.filter((t=>"fluid"!==t));this.adSizes=t,this.maxAdSizes=this.extractMaxAdSize(this.adSizes);break}}}_init(){}_addStyle(){const{customCssForShowAdsText:t,customShowAdsText:e,showAdsText:i,divIDs:n}=this.config,o=n[0];let r=`\n    .${this.AD_NAME}-wrapper {\n        position: absolute;\n    }\n  `;i&&(r=r.concat(`div[id^=${o}].${this.RENDERED} ::before {\n        content: "${e||"ADVERTISEMENT"}";\n        color: #8a9299;\n        font-size: 11px;\n        position: relative;\n        top: -4px;\n        text-align: center;\n        display: block;\n        font-family: sans-serif;\n        letter-spacing: 0.6px;\n        width: 120px;\n    }`),t&&(r=r.concat(`div[id^=${o}].${this.RENDERED} ::before {${t}}`))),(0,s.TD)(r,o)}_buildSlot(t){const e=this.config.divIDs[0]+this.executeCountSuffix,i=t.getBoundingClientRect().top+window.pageYOffset,s=document.createElement("div");s.classList.add(`${this.AD_NAME}-wrapper`),s.style.top=`${this.marginTop+i}px`;const n=document.createElement("div");return n.classList.add(this.AD_NAME),this.slots[e]={slotWrapper:s,adUnitPath:this.config.adUnitPath,divId:e,slot:n,isGPTRefreshCalled:!1,shouldStopRefresh:!1,...this.makeReplaceAdSenseParams()},s.appendChild(n),window.document.body.appendChild(s),e}get executeCountSuffix(){return this.infinite?"_"+this.executeCount.toString():""}setWrapperStyle(t,e,i){this.slots[t].slotWrapper.style[e]=i}}},476:(t,e,i)=>{i.d(e,{A:()=>d});var s=i(939),n=i(599),o=i(335),r=i(554),a=i(8);class d extends n.x{constructor(t,e){super(t,"ats-slider",e,"slider"),this.sliderCloseButton=document.createElement("button"),this.slider=document.createElement("div"),this.wrapperClassName="ats-slider-wrapper",this.sliderClassName="ats-slider",this.buttonClassName="ats-slider-button",this.wrapperId=this.wrapperClassName+"-"+this.instanceCount,this.sliderDivId=this.sliderClassName+"-div-"+this.instanceCount,this.buttonId=this.buttonClassName+"-"+this.instanceCount,this._execute=t=>(this.addStyle(),t),this._findTarget=t=>{const{selector:e,targetType:i}=this.config,n=(0,s.EW)(t,e,i);return null==n?null:[n]},this._buildSlot=(t,e)=>{const{divIDs:i,insertPosition:s}=this.config,n=i[0],o=document.createElement("div");o.setAttribute("id",this.wrapperId),o.classList.add(this.wrapperClassName),this.slider.setAttribute("id",this.sliderDivId),this.slider.classList.add(this.sliderClassName),this.slider.classList.add(this.UNRENDERED),o.append(this.slider),this.sliderCloseButton.setAttribute("id",this.buttonId),this.sliderCloseButton.classList.add(this.buttonClassName),this.sliderCloseButton.classList.add(this.UNRENDERED),this.slider.append(this.sliderCloseButton);const r=document.createElement("div"),a=document.createElement("div");a.classList.add(this.sliderClassName+"-wrapper-paper");const d=document.createElement("div");return d.classList.add(this.sliderClassName+"-wrapper"),d.append(r),a.append(d),this.slider.append(a),t.insertAdjacentElement(s,o),this.slots[n]={baseElement:e,slotWrapper:o,adUnitPath:this.config.adUnitPath,divId:n,slot:r,isGPTRefreshCalled:!1,shouldStopRefresh:!1,...this.makeReplaceAdSenseParams()},n},this._getFetchAdConfig=(t,e,i)=>{const{setCollapseEmptyDiv:s,sizeMappingGroup:n,setTargetingConfigs:o,enableSetForceSafeFrameForSlot:r}=this.config,a=this.slots[t];return{gpt:{slotWrapperDiv:a.slotWrapper,instanceCount:this.instanceCount,adUnitPath:a.adUnitPath,sizes:[[300,250]],divId:a.divId,setCollapseEmptyDiv:s,sizeMappingGroup:n,setTargetingConfigs:o,enableSetForceSafeFrameForSlot:r,onAfterGptRendered:this._onAfterGptRendered(t),onAfterGptFetched:this._onAfterGptFetched(t),infinite:i}}},this._onAfterGptFetched=t=>e=>{this.sliderCloseButton.onclick=this.onClose(e,t),this.dispose=()=>{try{this.onClose(e,t)(),o.vF.log("o: dispose")}catch(t){o.vF.error(t)}}},this._onAfterGptRendered=t=>e=>{const{refreshInterval:i,refreshLimit:s,inViewRate:n,setTargetingConfigs:o}=this.config,a=this.slots[t];if(i>0&&!a.isGPTRefreshCalled&&r.Um.intervalRefreshAds([e.slot],i,s,t,this.slots,n,o),!e.isEmpty){if("0x0"===e.size.join("x"))return;this.slider.classList.remove(this.UNRENDERED),this.slider.classList.add(this.RENDERED),this.sliderCloseButton.classList.remove(this.UNRENDERED),this.sliderCloseButton.classList.add(this.RENDERED)}},this.onClose=(t,e)=>()=>{t&&googletag.destroySlots([t]),this.slots[e].shouldStopRefresh=!0,this.slots[e].slotWrapper.remove()},this.dispose=()=>{try{o.vF.log("p: dispose");for(const t in this.slots){const e=this.slots[t];e.removeScrollEventListener&&e.removeScrollEventListener(),e.dispose&&e.dispose(),delete this.slots[t]}}catch(t){o.vF.error(t)}},a.A.createAdObserver(this.config,this)}_init(){}_addStyle(){}addStyle(){const{customCss:t,sliderScale:e,sliderPosition:i}=this.config;(0,s.TD)(`\n            #${this.sliderDivId}.${this.RENDERED} {\n                text-align: center;\n                position: fixed;\n                ${1===i?"left: 0":"right: 0"};\n                bottom: 0;\n                transform: scale(${e/100});\n                z-index: 9999;\n            }\n            #${this.sliderDivId}.${this.RENDERED} {\n             ${t}\n            }\n            #${this.buttonId}.${this.RENDERED} {\n              display: block !important;\n              background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='338 4 16 18' fill='black' fill-opacity='0.6' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M354 9.31L352.69 8l-5.19 5.19L342.31 8 341 9.31l5.19 5.19-5.19 5.19 1.31 1.31 5.19-5.19 5.19 5.19 1.31-1.31-5.19-5.19z' fill-rule='evenodd'/%3E%3C/svg%3E");\n              background-size: 20px 20px;\n              background-position: center;\n              background-color: #fff;\n              background-repeat: no-repeat;\n              border: none;\n              height: 40px;\n              width: 40px;\n              padding: 0;\n              margin: 0;\n              position: absolute;\n              right: 0;\n              box-shadow: 0 -1px 1px 0 rgba(0,0,0,0.2);\n              border-radius: 12px 0 0 0;\n              top: -35px;\n            }\n            #${this.buttonId}.${this.RENDERED}::before {\n              position: absolute;\n              content: "";\n              top: -20px;\n              right: 0;\n              left: -20px;\n              bottom: 0;\n            }\n            #${this.buttonId}.${this.UNRENDERED} {\n                visibility: hidden;\n            }\n            .${this.sliderClassName+"-wrapper-paper"} {\n                position: relative;\n                border: 15px solid #fff;\n            }\n            .${this.sliderClassName+"-wrapper"} {\n                margin: auto;\n            }\n`,`${this.AD_NAME}`)}}},78:(t,e,i)=>{i.d(e,{Cu:()=>s,KB:()=>o,sp:()=>n});const s=-1!==(sessionStorage?.getItem("ats_debug")||"").indexOf("true")||-1!==location.search.slice(1).split("&").indexOf("ats_debug=true"),n=s||/only_log|enable_log/.test(sessionStorage?.getItem("ats_debug")||"")||-1!==location.search.slice(1).split("&").indexOf("ats_debug=only_log"),o=(t="true"!==window.sessionStorage.getItem("ats_debug"))=>{t?window.sessionStorage.setItem("ats_debug","true"):window.sessionStorage.removeItem("ats_debug"),location.reload()}},581:(t,e,i)=>{i.d(e,{A:()=>r,V:()=>n});var s=i(78);class n{constructor(t,e=!1){this._enableLog=e,this.measurePerformance=t=>{try{performance.mark("start")}catch(t){}const e=t();try{performance.mark("end"),performance.measure("test","start","end");const t=performance.getEntriesByName("test");this.log(t[0])}catch(t){}return e},this.reset=()=>{};const i=(t,e)=>`display: inline-block; color: ${t}; background: ${e}; padding: 1px 4px; border-radius: 3px;`;this.decorate=[`%cATS%c${t}`,i("#fff","#2196f3"),i("#000","#aaa")]}log(...t){try{if(!this._enableLog)return;console.log(...this.decorate,"LOG:",...t)}catch(e){this.log(...t)}}info(...t){try{if(!this._enableLog)return;console.info(...this.decorate,"INFO:",...t)}catch(e){this.log(...t)}}warn(...t){try{if(!this._enableLog)return;console.warn(...this.decorate,"WARN:",...t)}catch(e){this.log(...t)}}error(...t){try{if(!this._enableLog)return;console.error(...this.decorate,"ERROR:",...t)}catch(e){this.log(...t)}}table(t,e,i){try{if(!this._enableLog)return;this.log(t),console.table(e,i)}catch(s){this.log(t,e,i)}}}const o=new n("Core",s.sp),r=o;if(s.sp)try{const t=e=>{e?.target?.removeEventListener(e.type,t);const i=window.performance.timing;i&&o.log("Page Performance",{dns:i.domainLookupEnd-i.domainLookupStart,tcp:i.connectEnd-i.connectStart,request:i.responseStart-i.requestStart,response:i.responseEnd-i.responseStart,interactive:i.domInteractive-i.domLoading,domContentLoaded:i.domContentLoadedEventStart-i.domLoading,domComplete:i.domComplete-i.domLoading,load:i.loadEventEnd-i.loadEventStart,untilResponseStart:i.responseStart-i.navigationStart,untilLoadComplete:i.loadEventEnd-i.navigationStart})};"complete"===document.readyState?t():window.addEventListener("load",t)}catch(t){}},939:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{EW:()=>getTarget,FC:()=>isMatchedDevice,G:()=>isMatchedPath,P7:()=>updateArray,Ri:()=>getCookie,Sw:()=>isSafariPC,TD:()=>addStyle,TV:()=>setCookie,UW:()=>isMatchedBlockedUrl,Zu:()=>isUserInteractedOnDocument,ab:()=>getSelectorFromElement,dk:()=>REFERRER_HISTORY,gE:()=>getUserDeviceType,hg:()=>isCorrectSizes,k3:()=>isMatchedReferrerHistory,kU:()=>isInflow,l9:()=>debouncedMutationObserver,nL:()=>insertScriptTag,oj:()=>isMatchedReferrer,pr:()=>checkWindow,yz:()=>getHostName,ze:()=>isEmptyObj});var _Logger__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(581);const addStyle=(t,e)=>{if(!document.querySelector(`style[data-css-${e}]`)){const i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",s.appendChild(document.createTextNode(t)),e&&s.setAttribute(`data-css-${e}`,""),i.appendChild(s)}},checkWindow=()=>document.hasFocus();let isUserInteractedOnDocument=!1;window.document.addEventListener("click",(()=>{isUserInteractedOnDocument=!0})),window.document.addEventListener("touchstart",(()=>{isUserInteractedOnDocument=!0}));const isSafariPC=()=>{const t=navigator.userAgent,e=navigator.vendor;return/Safari/i.test(t)&&/Apple Computer/.test(e)&&!/Mobi|Android/i.test(t)},debounce=(t,e,...i)=>{let s;return()=>{const n=i;s&&clearTimeout(s),s=window.setTimeout((function(){s=null,t(n)}),e)}},getTarget=(atsElm,selector,targetType)=>{let element;try{element="Function"===targetType?eval(selector):atsElm.querySelector(selector)}catch(t){element=null}return element},debouncedMutationObserver=(t,e)=>new MutationObserver(debounce(t,e)),isCorrectSizes=t=>t[0]<window.innerWidth&&t[1]<window.innerHeight,isEmptyObj=t=>null==t||!Object.keys(t).length,insertScriptTag=(t=!1,e,i)=>{const s=document.createElement("script"),n=document.getElementsByTagName("script")[0];i&&(s.onload=i),s.async=t,s.src=e,n?.parentNode?.insertBefore(s,n)},getSelectorFromElement=t=>{const e=[];if(!(t instanceof Element))return e;const i=(t,e)=>{let i=1,s=t;for(;s=s.previousElementSibling;)s.nodeName.toLowerCase()===e&&++i;return i};for(;t&&t.nodeType===Node.ELEMENT_NODE;){let s=t.nodeName.toLowerCase();if(t.id){s+=`#${t.id}`,e.unshift(s);break}const n=i(t,s);1<n&&(s+=`:nth-of-type(${n})`),e.unshift(s),t=t.parentNode}return e},deviceRegex=/ip(hone|od)|android.*(mobile|mini)/i,deviceRegex2=/Opera Mobi|Mobile.+Firefox|^HTC|Fennec|IEMobile|BlackBerry|BB10.*Mobile|GT-.*Build\/GINGERBREAD|SymbianOS.*AppleWebKit/,MOBILE_NAME="sp",DESKTOP_NAME="pc",RESPONSIVE_NAME="resp",REFERRER_HISTORY=[],getUserDeviceType=(t=navigator.userAgent)=>{let e=!1;return[deviceRegex,deviceRegex2].forEach((i=>{e=e||i.test(t)})),e?MOBILE_NAME:DESKTOP_NAME},CURRENT_USER_DEVICE_TYPE=getUserDeviceType(),isMatchedPath=({regex:t},e)=>{let i;try{i=new RegExp(t)}catch(t){return _Logger__WEBPACK_IMPORTED_MODULE_0__.A.error(`regex is not correct: ${i}: ${t}`),!1}return i.test(e)},isMatchedReferrer=(t,e)=>{if(!t.enableReferrerTargeting||t.enableKeepingReferrer||!t.domainList)return!0;const i=t.domainList.some((t=>t===e));return"include"===t.filteringRule?i:!i},getHostName=(t,e)=>{t=t.sort(((t,e)=>t.length-e.length));for(const i of t)if(-1!==e.indexOf(i))return i;return e},isInflow=(t,e)=>-1===e.indexOf(t),setCookie=(t,e,i)=>{let s="";if(i){const t=new Date;t.setTime(t.getTime()+24*i*60*60*1e3),s="; expires="+t.toUTCString()}document.cookie=t+"="+(e||"")+s+"; path=/"},eraseCookie=t=>{document.cookie=t+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"},getCookie=()=>document.cookie.split(/;\s*/).reduce(((t,e)=>{const[i,s]=e.split("=");let n="temp";try{s&&(n=decodeURIComponent(s))}catch(t){}return i&&(t[i]=n),t}),{}),updateArray=(t,e,i,s)=>{let n=s?[]:JSON.parse(getCookie()[e]||"[]");return n.push(i),n=n.filter(((t,e,i)=>i.indexOf(t)===e)),document.cookie=`${e}=${encodeURIComponent(JSON.stringify(n))}; Domain=${t}; Path=/; max-age=3600; SameSite=Strict;`,n},isMatchedReferrerHistory=(t,e)=>{if(!t.enableReferrerTargeting||!t.enableKeepingReferrer||!t.domainList)return!0;const i=e.some((e=>t.domainList?.some((t=>t===e))));return"include"===t.filteringRule?i:!i},isMatchedBlockedUrl=(t,e)=>t.some((t=>t===e&&(_Logger__WEBPACK_IMPORTED_MODULE_0__.A.log(`blocked with url = ${t}`),!0))),isMatchedDevice=(t,e)=>t===e||t===RESPONSIVE_NAME},974:t=>{t.exports=JSON.parse('{"siteSetting":{"enableAds":true,"enableGptScript":true,"parentAccountSiteDomain":"anymanager.io","siteId":12181,"enableAdloox":false,"adlooxRequestRatio":0.08,"confirmedClickRatio":0,"enableIpBlocking":false,"enableBasicSetTargetings":true,"enableCollapseEmptyDivs":true,"enableGamSingleRequest":true,"enableSeparateRequest":true,"enableGamDisableInitialLoad":false,"enableGamLazyload":{},"gamAdsRefresh":1,"enablePrebid":false,"prebidSettings":{"prebidVersion":7,"prebidTimeout":2000,"prebidTamPubId":"","prebidUserSyncScript":"(function () {\\r\\n    return {\\r\\n        syncDelay: 6000, // Default = 3000\\r\\n        syncsPerBidder: 10, // Default = 5\\r\\n        filterSettings: {\\r\\n            all: {\\r\\n                bidders: \\"*\\",\\r\\n                filter: \\"include\\",\\r\\n            },\\r\\n        },\\r\\n        // https://publisherdocs.criteotilt.com/rtus/prebid/\\r\\n        userIds: [\\r\\n            {\\r\\n                name: \\"criteo\\",\\r\\n            },\\r\\n        ],\\r\\n    };\\r\\n})();","prebidCustomScript":"","prebidCoreGamNetworkId":21787810958,"prebidCurrency":"USD","prebidJsURL":"https://anymind360.com/js/12181/prebid_2024_5_28_9_3_56.js","rendererJsURL":"https://anymind360.com/js/bundle.js","prebidUseAtspbjs":true,"enableAnalytics":false,"ampaEndPoint":"https://storage.googleapis.com/prod-ampa-collect/collect","analyticsSamplingRate":0.05,"userIds":[],"enableSchain":false,"sellerId":"G22755035310"},"enableIdentityHub":false,"identityHubPublisherId":null,"identityHubProfileId":null,"enableLiveRamp":false,"liveRampJsURL":"https://ats.rlcdn.com/ats.js","liveRampScript":"","enablePwa":false,"keywordsBlock":{},"isSPA":false,"enableAdRecovery":false,"destroyAtsSlotsOnly":false,"enableUrlBlock":false,"blockedUrls":[],"hostNames":["tools.heho.com.tw"],"enableApm":false,"videoCssUrl":"https://anymind360.com/video/css/bundle_ver20240507.css","videoJsUrl":"https://anymind360.com/video/js/bundle_ver20240507.js","useAsyncJsTrigger":false,"asyncJsTrigger":""},"configs":[{"regex":"bmi|bmr|bodyfat","device":"sp","breakPoint":false,"enableReferrerTargeting":false,"enableKeepingReferrer":false,"filteringRule":"include","domainList":[],"active":true,"type":"interstitial","enablePrebid":false,"settings":{"refreshInterval":0,"inViewRate":0,"sizeMappingGroup":[{"deviceSizes":[0,0],"sizes":[[300,250],[336,280],[320,480],"fluid",[1,1]]}],"enableSetForceSafeFrameForSlot":false,"setCollapseEmptyDiv":"before_fetch","autoAdUnitPaths":[],"adUnitPath":"/21787810958,22755035310/TW_tools_heho.com.tw_mb_popup_320x480//336x280//300x250//fluid//1x1","adUnitId":255987,"divIDs":["ats-interstitial-0"],"closeButtonText":"","closeButtonPosition":"topleft","useCloseButtonXIcon":true,"closeButtonTextColor":"#000000","closeButtonBackgroundColor":"#FFFFFF","closeButtonBoldText":true,"useCustomCss":true,"customCss":"#ats-interstitial-button {\\n    min-width: unset !important;\\n    min-height: unset !important;\\n    border-radius: 50% !important;\\n    right: unset !important;\\n    left: 30px!important;\\n    top: 100px !important;\\n    padding: 0px 4px 3px 5px !important;\\n    font-size: 20px !important;\\n    line-height: 1 !important;\\n    background-color: rgba(0, 0, 0, 0.5) !important;\\n    color: white !important;\\n}","blockWithoutAds":false,"script":""}},{"regex":".*","device":"sp","breakPoint":false,"enableReferrerTargeting":false,"enableKeepingReferrer":false,"filteringRule":"include","domainList":[],"active":true,"type":"custom","settings":{"script":"try{\\nfunction checkInterstitial() {\\n  var buttonDiv = document.querySelector(\'#ats-interstitial-button\');\\n  var backdropDiv = document.querySelector(\'#ats-interstitial-backdrop\');\\n\\n  if (buttonDiv.style.display === \'none\') {\\n    backdropDiv.style.position = \'unset\';\\n    console.log(\\"backdrop removed\\");\\n    clearInterval(intervalId); \\n  } else if ( buttonDiv.style.display === \'inline-block\') {\\n    backdropDiv.style.position = \'fixed\';\\n    console.log(\\"backdrop normal\\");\\n    clearInterval(intervalId); \\n  }\\n}\\nvar intervalId = setInterval(checkInterstitial, 3000);\\n}catch(e){}","style":"#ats-interstitial-root {\\n    z-index: 999999 !important;\\n}"}}],"information":{"env":"prod","buildDate":"2024-05-28T18:03:56.478Z","versions":{"ads":"3.1.256 ver3","pwa":"3.1.256","core":"3.1.256","bundler":"3.1.256"}},"amPrebidBidderMap":{}}')}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var i=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](i,i.exports,__webpack_require__),i.exports}__webpack_require__.d=(t,e)=>{for(var i in e)__webpack_require__.o(e,i)&&!__webpack_require__.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var __webpack_exports__={};(()=>{var _TagServices__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(903),_Logger__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(335),_createNewConfig__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(231);const anymindTS=window.anymindTS=window.anymindTS||{que:[]},iterateAndCallQueFunc=t=>{t.length>0&&t.forEach(((t,e)=>{try{t()}catch(t){_Logger__WEBPACK_IMPORTED_MODULE_1__.vF.error(`anymindTS.que[${e}]`,t)}}))},run=async config=>{try{_Logger__WEBPACK_IMPORTED_MODULE_1__.vF.log(`\nenv: ${config.information.env}\nversion: ${config.information.versions.ads} \nbuild date: ${config.information.buildDate}\nsite id: ${config.siteSetting.siteId}`);const que=anymindTS.que.slice();anymindTS.que.splice(0),window.anymindTS.loaded?_Logger__WEBPACK_IMPORTED_MODULE_1__.vF.error("already ATS is executed"):(window.startAnymindTS=async()=>{if(config.siteSetting.useAsyncJsTrigger&&config.siteSetting.asyncJsTrigger)try{const result=await eval(config.siteSetting.asyncJsTrigger);if(_Logger__WEBPACK_IMPORTED_MODULE_1__.vF.log("asyncJsTrigger result: ",result),!result)return}catch(t){_Logger__WEBPACK_IMPORTED_MODULE_1__.vF.log(t)}if(window.anymindTS?.notYetDiscarded)return void _Logger__WEBPACK_IMPORTED_MODULE_1__.vF.error(new Error("Please execute 'window.anymindTS.dispose();'."));_Logger__WEBPACK_IMPORTED_MODULE_1__.vF.log("original config: ",config);const newConfig=(0,_createNewConfig__WEBPACK_IMPORTED_MODULE_2__.PC)(config);_Logger__WEBPACK_IMPORTED_MODULE_1__.vF.log("new config: ",newConfig),window.anymindTS=new _TagServices__WEBPACK_IMPORTED_MODULE_0__.h(newConfig);const customScript=window.anymindTS.configs.siteSetting.customScript;if(customScript)try{eval(customScript)}catch(t){_Logger__WEBPACK_IMPORTED_MODULE_1__.vF.error("Site settings custom script failed",t)}},config.siteSetting.isSPA||window.startAnymindTS(),iterateAndCallQueFunc(que),que.splice(0))}catch(t){_Logger__WEBPACK_IMPORTED_MODULE_1__.vF.error(t)}};try{const t=__webpack_require__(974);run(t)}catch(t){_Logger__WEBPACK_IMPORTED_MODULE_1__.vF.error(t)}})()})();